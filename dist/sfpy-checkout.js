!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("safepay",[],n):"object"==typeof exports?exports.safepay=n():e.safepay=n()}("undefined"!=typeof self?self:this,(()=>(()=>{"use strict";var e={d:(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,n)=>({}.hasOwnProperty.call(e,n)),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};function t(e,n){return t=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},t(e,n)}function r(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,t(e,n)}function o(){return o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o.apply(this,arguments)}function i(e){try{if(!e)return!1;if("undefined"!=typeof Promise&&e instanceof Promise)return!0;if("undefined"!=typeof window&&"function"==typeof window.Window&&e instanceof window.Window)return!1;if("undefined"!=typeof window&&"function"==typeof window.constructor&&e instanceof window.constructor)return!1;var n={}.toString;if(n){var t=n.call(e);if("[object Window]"===t||"[object global]"===t||"[object DOMWindow]"===t)return!1}if("function"==typeof e.then)return!0}catch(e){return!1}return!1}e.r(n),e.d(n,{Button:()=>ri,Checkout:()=>si});var a,u=[],c=[],s=0;function f(){if(!s&&a){var e=a;a=null,e.resolve()}}function d(){s+=1}function l(){s-=1,f()}var h=function(){function e(e){var n=this;if(this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],e){var t,r,o=!1,i=!1,a=!1;d();try{e((function(e){a?n.resolve(e):(o=!0,t=e)}),(function(e){a?n.reject(e):(i=!0,r=e)}))}catch(e){return l(),void this.reject(e)}l(),a=!0,o?this.resolve(t):i&&this.reject(r)}}var n=e.prototype;return n.resolve=function(e){if(this.resolved||this.rejected)return this;if(i(e))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=e,this.dispatch(),this},n.reject=function(e){var n=this;if(this.resolved||this.rejected)return this;if(i(e))throw new Error("Can not reject promise with another promise");if(!e){var t=e&&"function"==typeof e.toString?e.toString():{}.toString.call(e);e=new Error("Expected reject to be called with Error, got "+t)}return this.rejected=!0,this.error=e,this.errorHandled||setTimeout((function(){n.errorHandled||function(e,n){if(-1===u.indexOf(e)){u.push(e),setTimeout((function(){throw e}),1);for(var t=0;t<c.length;t++)c[t](e,n)}}(e,n)}),1),this.dispatch(),this},n.asyncReject=function(e){return this.errorHandled=!0,this.reject(e),this},n.dispatch=function(){var n=this.resolved,t=this.rejected,r=this.handlers;if(!this.dispatching&&(n||t)){this.dispatching=!0,d();for(var o=function(e,n){return e.then((function(e){n.resolve(e)}),(function(e){n.reject(e)}))},a=0;a<r.length;a++){var u=r[a],c=u.onSuccess,s=u.onError,f=u.promise,h=void 0;if(n)try{h=c?c(this.value):this.value}catch(e){f.reject(e);continue}else if(t){if(!s){f.reject(this.error);continue}try{h=s(this.error)}catch(e){f.reject(e);continue}}if(h instanceof e&&(h.resolved||h.rejected)){var p=h;p.resolved?f.resolve(p.value):f.reject(p.error),p.errorHandled=!0}else i(h)?h instanceof e&&(h.resolved||h.rejected)?h.resolved?f.resolve(h.value):f.reject(h.error):o(h,f):f.resolve(h)}r.length=0,this.dispatching=!1,l()}},n.then=function(n,t){if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.then expected a function for success handler");if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.then expected a function for error handler");var r=new e;return this.handlers.push({promise:r,onSuccess:n,onError:t}),this.errorHandled=!0,this.dispatch(),r},n.catch=function(e){return this.then(void 0,e)},n.finally=function(n){if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.finally expected a function");return this.then((function(t){return e.try(n).then((function(){return t}))}),(function(t){return e.try(n).then((function(){throw t}))}))},n.timeout=function(e,n){var t=this;if(this.resolved||this.rejected)return this;var r=setTimeout((function(){t.resolved||t.rejected||t.reject(n||new Error("Promise timed out after "+e+"ms"))}),e);return this.then((function(e){return clearTimeout(r),e}))},n.toPromise=function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)},n.lazy=function(){return this.errorHandled=!0,this},e.resolve=function(n){return n instanceof e?n:i(n)?new e((function(e,t){return n.then(e,t)})):(new e).resolve(n)},e.reject=function(n){return(new e).reject(n)},e.asyncReject=function(n){return(new e).asyncReject(n)},e.all=function(n){var t=new e,r=n.length,o=[].slice();if(!r)return t.resolve(o),t;for(var a=function(e,n,i){return n.then((function(n){o[e]=n,0==(r-=1)&&t.resolve(o)}),(function(e){i.reject(e)}))},u=0;u<n.length;u++){var c=n[u];if(c instanceof e){if(c.resolved){o[u]=c.value,r-=1;continue}}else if(!i(c)){o[u]=c,r-=1;continue}a(u,e.resolve(c),t)}return 0===r&&t.resolve(o),t},e.hash=function(n){var t={},r=[],o=function(e){if(n.hasOwnProperty(e)){var o=n[e];i(o)?r.push(o.then((function(n){t[e]=n}))):t[e]=o}};for(var a in n)o(a);return e.all(r).then((function(){return t}))},e.map=function(n,t){return e.all(n.map(t))},e.onPossiblyUnhandledException=function(e){return function(e){return c.push(e),{cancel:function(){c.splice(c.indexOf(e),1)}}}(e)},e.try=function(n,t,r){if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.try expected a function");var o;d();try{o=n.apply(t,r||[])}catch(n){return l(),e.reject(n)}return l(),e.resolve(o)},e.delay=function(n){return new e((function(e){setTimeout(e,n)}))},e.isPromise=function(n){return!!(n&&n instanceof e)||i(n)},e.flush=function(){return n=a=a||new e,f(),n;var n},e}();function p(e){return"[object RegExp]"==={}.toString.call(e)}var y="mock:",w="file:",m="about:",v={IFRAME:"iframe",POPUP:"popup"};function g(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return M(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?M(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var j="Call was rejected by callee.\r\n";function L(e){return void 0===e&&(e=window),e.location.protocol}function x(e){if(void 0===e&&(e=window),e.mockDomain){var n=e.mockDomain.split("//")[0];if(n)return n}return L(e)}function b(e){return void 0===e&&(e=window),x(e)===m}function E(e){if(void 0===e&&(e=window),e)try{if(e.parent&&e.parent!==e)return e.parent}catch(e){}}function N(e){if(void 0===e&&(e=window),e&&!E(e))try{return e.opener}catch(e){}}function A(e){try{return!0}catch(e){}return!1}function S(e){void 0===e&&(e=window);var n=e.location;if(!n)throw new Error("Can not read window location");var t=L(e);if(!t)throw new Error("Can not read window protocol");if(t===w)return"file://";if(t===m){var r=E(e);return r&&A()?S(r):"about://"}var o=n.host;if(!o)throw new Error("Can not read window host");return t+"//"+o}function D(e){void 0===e&&(e=window);var n=S(e);return n&&e.mockDomain&&0===e.mockDomain.indexOf(y)?e.mockDomain:n}function T(e){if(!function(e){try{if(e===window)return!0}catch(e){}try{var n=Object.getOwnPropertyDescriptor(e,"location");if(n&&!1===n.enumerable)return!1}catch(e){}try{if(b(e)&&A())return!0}catch(e){}try{if(function(e){return void 0===e&&(e=window),x(e)===y}(e)&&A())return!0}catch(e){}try{if(S(e)===S(window))return!0}catch(e){}return!1}(e))return!1;try{if(e===window)return!0;if(b(e)&&A())return!0;if(D(window)===D(e))return!0}catch(e){}return!1}function I(e){if(!T(e))throw new Error("Expected window to be same domain");return e}function z(e,n){if(!e||!n)return!1;var t=E(n);return t?t===e:-1!==function(e){var n=[];try{for(;e.parent!==e;)n.push(e.parent),e=e.parent}catch(e){}return n}(n).indexOf(e)}function O(e){var n,t,r=[];try{n=e.frames}catch(t){n=e}try{t=n.length}catch(e){}if(0===t)return r;if(t){for(var o=0;o<t;o++){var i=void 0;try{i=n[o]}catch(e){continue}r.push(i)}return r}for(var a=0;a<100;a++){var u=void 0;try{u=n[a]}catch(e){return r}if(!u)return r;r.push(u)}return r}function C(e){for(var n,t=[],r=g(O(e));!(n=r()).done;){var o=n.value;t.push(o);for(var i,a=g(C(o));!(i=a()).done;)t.push(i.value)}return t}function k(e){void 0===e&&(e=window);try{if(e.top)return e.top}catch(e){}if(E(e)===e)return e;try{if(z(window,e)&&window.top)return window.top}catch(e){}try{if(z(e,window)&&window.top)return window.top}catch(e){}for(var n,t=g(C(e));!(n=t()).done;){var r=n.value;try{if(r.top)return r.top}catch(e){}if(E(r)===r)return r}}function _(e){var n=k(e);if(!n)throw new Error("Can not determine top window");var t=[].concat(C(n),[n]);return-1===t.indexOf(e)&&(t=[].concat(t,[e],C(e))),t}var P=[],W=[];function U(e,n){void 0===n&&(n=!0);try{if(e===window)return!1}catch(e){return!0}try{if(!e)return!0}catch(e){return!0}try{if(e.closed)return!0}catch(e){return!e||e.message!==j}if(n&&T(e))try{if(e.mockclosed)return!0}catch(e){}try{if(!e.parent||!e.top)return!0}catch(e){}var t=function(e,n){for(var t=0;t<e.length;t++)try{if(e[t]===n)return t}catch(e){}return-1}(P,e);if(-1!==t){var r=W[t];if(r&&function(e){if(!e.contentWindow)return!0;if(!e.parentNode)return!0;var n=e.ownerDocument;if(n&&n.documentElement&&!n.documentElement.contains(e)){for(var t=e;t.parentNode&&t.parentNode!==t;)t=t.parentNode;if(!t.host||!n.documentElement.contains(t.host))return!0}return!1}(r))return!0}return!1}function R(e){return void 0===e&&(e=window),N(e=e||window)||E(e)||void 0}function Y(e,n){for(var t,r=g(e);!(t=r()).done;)for(var o,i=t.value,a=g(n);!(o=a()).done;)if(i===o.value)return!0;return!1}function F(e){void 0===e&&(e=window);for(var n=0,t=e;t;)(t=E(t))&&(n+=1);return n}function Q(e,n){var t=k(e)||e,r=k(n)||n;try{if(t&&r)return t===r}catch(e){}var o=_(e),i=_(n);if(Y(o,i))return!0;var a=N(t),u=N(r);return a&&Y(_(a),i)||u&&Y(_(u),o),!1}function q(e,n){if("string"==typeof e){if("string"==typeof n)return"*"===e||n===e;if(p(n))return!1;if(Array.isArray(n))return!1}return p(e)?p(n)?e.toString()===n.toString():!Array.isArray(n)&&Boolean(n.match(e)):!!Array.isArray(e)&&(Array.isArray(n)?JSON.stringify(e)===JSON.stringify(n):!p(n)&&e.some((function(e){return q(e,n)})))}function H(e){return e.match(/^(https?|mock|file):\/\//)?e.split("/").slice(0,3).join("/"):D()}function $(e,n,t,r){var o;return void 0===t&&(t=1e3),void 0===r&&(r=1/0),function i(){if(U(e))return o&&clearTimeout(o),n();r<=0?clearTimeout(o):(r-=t,o=setTimeout(i,t))}(),{cancel:function(){o&&clearTimeout(o)}}}function B(e){try{if(e===window)return!0}catch(e){if(e&&e.message===j)return!0}try{if("[object Window]"==={}.toString.call(e))return!0}catch(e){if(e&&e.message===j)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(e){if(e&&e.message===j)return!0}try{if(e&&e.self===e)return!0}catch(e){if(e&&e.message===j)return!0}try{if(e&&e.parent===e)return!0}catch(e){if(e&&e.message===j)return!0}try{if(e&&e.top===e)return!0}catch(e){if(e&&e.message===j)return!0}try{if(e&&"__unlikely_value__"===e.__cross_domain_utils_window_check__)return!1}catch(e){return!0}try{if("postMessage"in e&&"self"in e&&"location"in e)return!0}catch(e){}return!1}function J(e){if(T(e))return I(e).frameElement;for(var n,t=g(document.querySelectorAll("iframe"));!(n=t()).done;){var r=n.value;if(r&&r.contentWindow&&r.contentWindow===e)return r}}function Z(e){if(function(e){return void 0===e&&(e=window),Boolean(E(e))}(e)){var n=J(e);if(n&&n.parentElement)return void n.parentElement.removeChild(n)}try{e.close()}catch(e){}}function G(e,n){for(var t=0;t<e.length;t++)try{if(e[t]===n)return t}catch(e){}return-1}var V,X=function(){function e(){if(this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__",function(){if("undefined"==typeof WeakMap)return!1;if(void 0===Object.freeze)return!1;try{var e=new WeakMap,n={},t="__testvalue__";return Object.freeze(n),e.set(n,t),e.get(n)===t}catch(e){return!1}}())try{this.weakmap=new WeakMap}catch(e){}this.keys=[],this.values=[]}var n=e.prototype;return n._cleanupClosedWindows=function(){for(var e=this.weakmap,n=this.keys,t=0;t<n.length;t++){var r=n[t];if(B(r)&&U(r)){if(e)try{e.delete(r)}catch(e){}n.splice(t,1),this.values.splice(t,1),t-=1}}},n.isSafeToReadWrite=function(e){return!B(e)},n.set=function(e,n){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{t.set(e,n)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var r=this.name,o=e[r];return void(o&&o[0]===e?o[1]=n:Object.defineProperty(e,r,{value:[e,n],writable:!0}))}catch(e){}this._cleanupClosedWindows();var i=this.keys,a=this.values,u=G(i,e);-1===u?(i.push(e),a.push(n)):a[u]=n},n.get=function(e){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{if(n.has(e))return n.get(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var t=e[this.name];return t&&t[0]===e?t[1]:void 0}catch(e){}this._cleanupClosedWindows();var r=G(this.keys,e);if(-1!==r)return this.values[r]},n.delete=function(e){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{n.delete(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var t=e[this.name];t&&t[0]===e&&(t[0]=t[1]=void 0)}catch(e){}this._cleanupClosedWindows();var r=this.keys,o=G(r,e);-1!==o&&(r.splice(o,1),this.values.splice(o,1))},n.has=function(e){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{if(n.has(e))return!0}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var t=e[this.name];return!(!t||t[0]!==e)}catch(e){}return this._cleanupClosedWindows(),-1!==G(this.keys,e)},n.getOrSet=function(e,n){if(this.has(e))return this.get(e);var t=n();return this.set(e,t),t},e}();function K(e){return K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},K(e)}function ee(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ne(e,n,r){return ne=ee()?Reflect.construct:function(e,n,r){var o=[null];o.push.apply(o,n);var i=new(Function.bind.apply(e,o));return r&&t(i,r.prototype),i},ne.apply(null,arguments)}function te(e){var n="function"==typeof Map?new Map:void 0;return te=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return ne(e,arguments,K(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),t(r,e)},te(e)}function re(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return oe(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?oe(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ie(e){var n=!1;try{(e instanceof window.Element||null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument)&&(n=!0)}catch(e){}return n}function ae(e){return e.name||e.__name__||e.displayName||"anonymous"}function ue(e,n){try{delete e.name,e.name=n}catch(e){}return e.__name__=e.displayName=n,e}function ce(e){if("function"==typeof btoa)return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,n){return String.fromCharCode(parseInt(n,16))}))).replace(/[=]/g,"");if("undefined"!=typeof Buffer)return Buffer.from(e,"utf8").toString("base64").replace(/[=]/g,"");throw new Error("Can not find window.btoa or Buffer")}function se(){var e="0123456789abcdef";return"uid_"+"xxxxxxxxxx".replace(/./g,(function(){return e.charAt(Math.floor(Math.random()*e.length))}))+"_"+ce((new Date).toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}function fe(e){try{return JSON.stringify([].slice.call(e),(function(e,n){return"function"==typeof n?"memoize["+function(e){if(V=V||new X,null==e||"object"!=typeof e&&"function"!=typeof e)throw new Error("Invalid object");var n=V.get(e);return n||(n=typeof e+":"+se(),V.set(e,n)),n}(n)+"]":ie(n)?{}:n}))}catch(e){throw new Error("Arguments not serializable -- can not be used to memoize")}}function de(){return{}}var le=0,he=0;function pe(e,n){void 0===n&&(n={});var t,r,o=n.thisNamespace,i=void 0!==o&&o,a=n.time,u=le;le+=1;var c=function(){for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];var s,f;u<he&&(t=null,r=null,u=le,le+=1),s=i?(r=r||new X).getOrSet(this,de):t=t||{};try{f=fe(o)}catch(n){return e.apply(this,arguments)}var d=s[f];if(d&&a&&Date.now()-d.time<a&&(delete s[f],d=null),d)return d.value;var l=Date.now(),h=e.apply(this,arguments);return s[f]={time:l,value:h},h};return c.reset=function(){t=null,r=null},ue(c,(n.name||ae(e))+"::memoized")}function ye(e){var n={};function t(){for(var t=arguments,r=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var u=fe(i);return n.hasOwnProperty(u)||(n[u]=h.try((function(){return e.apply(r,t)})).finally((function(){delete n[u]}))),n[u]}return t.reset=function(){n={}},ue(t,ae(e)+"::promiseMemoized")}function we(e,n,t){void 0===t&&(t=[]);var r=e.__inline_memoize_cache__=e.__inline_memoize_cache__||{},o=fe(t);return r.hasOwnProperty(o)?r[o]:r[o]=n.apply(void 0,t)}function me(){}function ve(e){var n=!1;return ue((function(){if(!n)return n=!0,e.apply(this,arguments)}),ae(e)+"::once")}function ge(e,n){if(void 0===n&&(n=1),n>=3)return"stringifyError stack overflow";try{if(!e)return"<unknown error: "+{}.toString.call(e)+">";if("string"==typeof e)return e;if(e instanceof Error){var t=e&&e.stack,r=e&&e.message;if(t&&r)return-1!==t.indexOf(r)?t:r+"\n"+t;if(t)return t;if(r)return r}return e&&e.toString&&"function"==typeof e.toString?e.toString():{}.toString.call(e)}catch(e){return"Error while stringifying error: "+ge(e,n+1)}}function Me(e){return"string"==typeof e?e:e&&e.toString&&"function"==typeof e.toString?e.toString():{}.toString.call(e)}function je(e,n){if(!n)return e;if(Object.assign)return Object.assign(e,n);for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function Le(e){return e}function xe(e,n){var t;return function r(){t=setTimeout((function(){e(),r()}),n)}(),{cancel:function(){clearTimeout(t)}}}function be(e,n,t){for(var r in void 0===n&&(n=""),void 0===t&&(t={}),n=n?n+".":n,e)e.hasOwnProperty(r)&&null!=e[r]&&"function"!=typeof e[r]&&(e[r]&&Array.isArray(e[r])&&e[r].length&&e[r].every((function(e){return"object"!=typeof e}))?t[""+n+r+"[]"]=e[r].join(","):e[r]&&"object"==typeof e[r]?t=be(e[r],""+n+r,t):t[""+n+r]=e[r].toString());return t}function Ee(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}function Ne(e,n,t){if(Array.isArray(e)){if("number"!=typeof n)throw new TypeError("Array key must be number")}else if("object"==typeof e&&null!==e&&"string"!=typeof n)throw new TypeError("Object key must be string");Object.defineProperty(e,n,{configurable:!0,enumerable:!0,get:function(){delete e[n];var r=t();return e[n]=r,r},set:function(t){delete e[n],e[n]=t}})}function Ae(e){return[].slice.call(e)}function Se(e){return"object"==typeof(n=e)&&null!==n&&"[object Object]"==={}.toString.call(e);var n}function De(e){if(!Se(e))return!1;var n=e.constructor;if("function"!=typeof n)return!1;var t=n.prototype;return!!Se(t)&&!!t.hasOwnProperty("isPrototypeOf")}function Te(e,n,t){if(void 0===t&&(t=""),Array.isArray(e)){for(var r=e.length,o=[],i=function(r){Ne(o,r,(function(){var o=t?t+"."+r:""+r,i=n(e[r],r,o);return(De(i)||Array.isArray(i))&&(i=Te(i,n,o)),i}))},a=0;a<r;a++)i(a);return o}if(De(e)){var u={},c=function(r){if(!e.hasOwnProperty(r))return"continue";Ne(u,r,(function(){var o=t?t+"."+r:""+r,i=n(e[r],r,o);return(De(i)||Array.isArray(i))&&(i=Te(i,n,o)),i}))};for(var s in e)c(s);return u}throw new Error("Pass an object or array")}function Ie(e){return null!=e}function ze(e){return"[object RegExp]"==={}.toString.call(e)}function Oe(e,n,t){if(e.hasOwnProperty(n))return e[n];var r=t();return e[n]=r,r}function Ce(e){var n,t=[],r=!1,o={set:function(n,t){return r||(e[n]=t,o.register((function(){delete e[n]}))),t},register:function(e){var o=ve((function(){return e(n)}));return r?e(n):t.push(o),{cancel:function(){var e=t.indexOf(o);-1!==e&&t.splice(e,1)}}},all:function(e){n=e;var o=[];for(r=!0;t.length;){var i=t.shift();o.push(i())}return h.all(o).then(me)}};return o}function ke(e,n){if(null==n)throw new Error("Expected "+e+" to be present");return n}pe.clear=function(){he=le},pe((function(e){if(Object.values)return Object.values(e);var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n}));var _e=function(e){function n(n){var t;return(t=e.call(this,n)||this).name=t.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),t.constructor):t.stack=new Error(n).stack,t}return r(n,e),n}(te(Error));function Pe(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return We(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?We(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function We(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Ue(){var e=document.body;if(!e)throw new Error("Body element not found");return e}function Re(){return Boolean(document.body)&&"complete"===document.readyState}function Ye(){return Boolean(document.body)&&"interactive"===document.readyState}function Fe(e){return encodeURIComponent(e)}function Qe(e){return we(Qe,(function(){var n={};if(!e)return n;if(-1===e.indexOf("="))return n;for(var t,r=Pe(e.split("&"));!(t=r()).done;){var o=t.value;(o=o.split("="))[0]&&o[1]&&(n[decodeURIComponent(o[0])]=decodeURIComponent(o[1]))}return n}),[e])}function qe(e,n){return void 0===n&&(n={}),n&&Object.keys(n).length?(void 0===(t=o({},Qe(e),n))&&(t={}),Object.keys(t).filter((function(e){return"string"==typeof t[e]||"boolean"==typeof t[e]})).map((function(e){var n=t[e];if("string"!=typeof n&&"boolean"!=typeof n)throw new TypeError("Invalid type for query");return Fe(e)+"="+Fe(n.toString())})).join("&")):e;var t}function He(e,n){e.appendChild(n)}function $e(e,n){return void 0===n&&(n=document),ie(e)?e:"string"==typeof e?n.querySelector(e):void 0}function Be(e){return new h((function(n,t){var r=Me(e),o=$e(e);if(o)return n(o);if(Re())return t(new Error("Document is ready and element "+r+" does not exist"));var i=setInterval((function(){return(o=$e(e))?(n(o),void clearInterval(i)):Re()?(clearInterval(i),t(new Error("Document is ready and element "+r+" does not exist"))):void 0}),10)}))}pe((function(){return new h((function(e){if(Re()||Ye())return e();var n=setInterval((function(){if(Re()||Ye())return clearInterval(n),e()}),10)}))}));var Je,Ze=function(e){function n(){return e.apply(this,arguments)||this}return r(n,e),n}(_e);function Ge(e){if((Je=Je||new X).has(e)){var n=Je.get(e);if(n)return n}var t=new h((function(n,t){e.addEventListener("load",(function(){(function(e){if(function(){for(var e=0;e<P.length;e++){var n=!1;try{n=P[e].closed}catch(e){}n&&(W.splice(e,1),P.splice(e,1))}}(),e&&e.contentWindow)try{P.push(e.contentWindow),W.push(e)}catch(e){}})(e),n(e)})),e.addEventListener("error",(function(r){e.contentWindow?n(e):t(r)}))}));return Je.set(e,t),t}function Ve(e){return Ge(e).then((function(e){if(!e.contentWindow)throw new Error("Could not find window in iframe");return e.contentWindow}))}function Xe(e,n){void 0===e&&(e={});var t=e.style||{},r=function(e,n,t){void 0===e&&(e="div"),void 0===n&&(n={}),e=e.toLowerCase();var r,o,i,a=document.createElement(e);if(n.style&&je(a.style,n.style),n.class&&(a.className=n.class.join(" ")),n.id&&a.setAttribute("id",n.id),n.attributes)for(var u=0,c=Object.keys(n.attributes);u<c.length;u++){var s=c[u];a.setAttribute(s,n.attributes[s])}if(n.styleSheet&&(r=a,o=n.styleSheet,void 0===i&&(i=window.document),r.styleSheet?r.styleSheet.cssText=o:r.appendChild(i.createTextNode(o))),n.html){if("iframe"===e)throw new Error("Iframe html can not be written unless container provided and iframe in DOM");a.innerHTML=n.html}return a}("iframe",{attributes:o({allowTransparency:"true"},e.attributes||{}),style:o({backgroundColor:"transparent",border:"none"},t),html:e.html,class:e.class}),i=window.navigator.userAgent.match(/MSIE|Edge/i);return r.hasAttribute("id")||r.setAttribute("id",se()),Ge(r),n&&function(e,n){void 0===n&&(n=document);var t=$e(e,n);if(t)return t;throw new Error("Can not find element: "+Me(e))}(n).appendChild(r),(e.url||i)&&r.setAttribute("src",e.url||"about:blank"),r}function Ke(e,n,t){return e.addEventListener(n,t),{cancel:function(){e.removeEventListener(n,t)}}}function en(e){e.style.setProperty("display","")}function nn(e){e.style.setProperty("display","none","important")}function tn(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function rn(e){return!(e&&e.parentNode&&e.ownerDocument&&e.ownerDocument.documentElement&&e.ownerDocument.documentElement.contains(e))}function on(e,n,t){var r=void 0===t?{}:t,o=r.width,i=void 0===o||o,a=r.height,u=void 0===a||a,c=r.interval,s=void 0===c?100:c,f=r.win,d=void 0===f?window:f,l=e.offsetWidth,h=e.offsetHeight,p=!1;n({width:l,height:h});var y,w,m=function(){if(!p&&function(e){return Boolean(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}(e)){var t=e.offsetWidth,r=e.offsetHeight;(i&&t!==l||u&&r!==h)&&n({width:t,height:r}),l=t,h=r}};return d.addEventListener("resize",m),void 0!==d.ResizeObserver?((y=new d.ResizeObserver(m)).observe(e),w=xe(m,10*s)):void 0!==d.MutationObserver?((y=new d.MutationObserver(m)).observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!1}),w=xe(m,10*s)):w=xe(m,s),{cancel:function(){p=!0,y.disconnect(),window.removeEventListener("resize",m),w.cancel()}}}function an(e){for(;e.parentNode;)e=e.parentNode;return"[object ShadowRoot]"===e.toString()}function un(e){var n=function(e){var n=function(e){for(;e.parentNode;)e=e.parentNode;if(an(e))return e}(e);if(n&&n.host)return n.host}(e);if(!n)throw new Error("Element is not in shadow dom");var t="shadow-slot-"+se(),r=document.createElement("slot");r.setAttribute("name",t),e.appendChild(r);var o=document.createElement("div");return o.setAttribute("slot",t),n.appendChild(o),an(n)?un(o):o}var cn="undefined"!=typeof document?document.currentScript:null,sn=pe((function(){if(cn)return cn;if(cn=function(){try{var e=function(){try{throw new Error("_")}catch(e){return e.stack||""}}(),n=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(e),t=n&&n[1];if(!t)return;for(var r,o=Pe([].slice.call(document.getElementsByTagName("script")).reverse());!(r=o()).done;){var i=r.value;if(i.src&&i.src===t)return i}}catch(e){}}())return cn;throw new Error("Can not determine current script")})),fn=se(),dn=pe((function(){var e;try{e=sn()}catch(e){return fn}var n=e.getAttribute("data-uid");if(n&&"string"==typeof n)return n;if((n=e.getAttribute("data-uid-auto"))&&"string"==typeof n)return n;if(e.src){var t=function(e){for(var n="",t=0;t<e.length;t++){var r=e[t].charCodeAt(0)*t;e[t+1]&&(r+=e[t+1].charCodeAt(0)*(t-1)),n+=String.fromCharCode(97+Math.abs(r)%26)}return n}(JSON.stringify({src:e.src,dataset:e.dataset}));n="uid_"+t.slice(t.length-30)}else n=se();return e.setAttribute("data-uid-auto",n),n}));function ln(e){return"string"==typeof e&&/^[0-9]+%$/.test(e)}function hn(e){if("number"==typeof e)return e;var n=e.match(/^([0-9]+)(px|%)$/);if(!n)throw new Error("Could not match css value from "+e);return parseInt(n[1],10)}function pn(e){return hn(e)+"px"}function yn(e){return"number"==typeof e?pn(e):ln(e)?e:pn(e)}function wn(e,n){if("number"==typeof e)return e;if(ln(e))return parseInt(n*hn(e)/100,10);var t;if("string"==typeof(t=e)&&/^[0-9]+px$/.test(t))return hn(e);throw new Error("Can not normalize dimension: "+e)}var mn="postrobot_message_request",vn="postrobot_message_response",gn="postrobot_message_ack",Mn="success",jn="error",Ln="postrobot_method",xn="postrobot_hello",bn="*";function En(){return"__post_robot_10_0_46___"+dn()}function Nn(e){void 0===e&&(e=window);var n=En();return e!==window?e[n]:e[n]=e[n]||{}}var An=function(){return{}};function Sn(e,n){return void 0===e&&(e="store"),void 0===n&&(n=An),Oe(Nn(),e,(function(){var e=n();return{has:function(n){return e.hasOwnProperty(n)},get:function(n,t){return e.hasOwnProperty(n)?e[n]:t},set:function(n,t){return e[n]=t,t},del:function(n){delete e[n]},getOrSet:function(n,t){return Oe(e,n,t)},reset:function(){e=n()},keys:function(){return Object.keys(e)}}}))}var Dn=function(){};function Tn(){var e=Nn();return e.WINDOW_WILDCARD=e.WINDOW_WILDCARD||new Dn,e.WINDOW_WILDCARD}function In(e,n){return void 0===e&&(e="store"),void 0===n&&(n=An),Sn("windowStore").getOrSet(e,(function(){var t=new X,r=function(e){return t.getOrSet(e,n)};return{has:function(n){return r(n).hasOwnProperty(e)},get:function(n,t){var o=r(n);return o.hasOwnProperty(e)?o[e]:t},set:function(n,t){return r(n)[e]=t,t},del:function(n){delete r(n)[e]},getOrSet:function(n,t){return Oe(r(n),e,t)}}}))}function zn(){return Sn("instance").getOrSet("instanceID",se)}function On(e,n){var t=n.domain,r=In("helloPromises"),o=r.get(e);o&&o.resolve({domain:t});var i=h.resolve({domain:t});return r.set(e,i),i}function Cn(e,n){return(0,n.send)(e,xn,{instanceID:zn()},{domain:bn,timeout:-1}).then((function(n){var t=n.origin,r=n.data.instanceID;return On(e,{domain:t}),{win:e,domain:t,instanceID:r}}))}function kn(e,n){var t=n.send;return In("windowInstanceIDPromises").getOrSet(e,(function(){return Cn(e,{send:t}).then((function(e){return e.instanceID}))}))}function _n(e){In("knownWindows").set(e,!0)}var Pn,Wn="error",Un="regex",Rn="date",Yn="undefined";function Fn(e){return"object"==typeof e&&null!==e&&"string"==typeof e.__type__}function Qn(e){return void 0===e?Yn:null===e?"null":Array.isArray(e)?"array":"function"==typeof e?"function":"object"==typeof e?e instanceof Error?Wn:"function"==typeof e.then?"promise":"[object RegExp]"==={}.toString.call(e)?Un:"[object Date]"==={}.toString.call(e)?Rn:"object":"string"==typeof e?"string":"number"==typeof e?"number":"boolean"==typeof e?"boolean":void 0}function qn(e,n){return{__type__:e,__val__:n}}var Hn,$n=((Pn={}).function=function(){},Pn.error=function(e){return qn(Wn,{message:e.message,stack:e.stack,code:e.code,data:e.data})},Pn.promise=function(){},Pn.regex=function(e){return qn(Un,e.source)},Pn.date=function(e){return qn(Rn,e.toJSON())},Pn.array=function(e){return e},Pn.object=function(e){return e},Pn.string=function(e){return e},Pn.number=function(e){return e},Pn.boolean=function(e){return e},Pn.null=function(e){return e},Pn[void 0]=function(e){return qn(Yn,e)},Pn),Bn={},Jn=((Hn={}).function=function(){throw new Error("Function serialization is not implemented; nothing to deserialize")},Hn.error=function(e){var n=e.stack,t=e.code,r=e.data,o=new Error(e.message);return o.code=t,r&&(o.data=r),o.stack=n+"\n\n"+o.stack,o},Hn.promise=function(){throw new Error("Promise serialization is not implemented; nothing to deserialize")},Hn.regex=function(e){return new RegExp(e)},Hn.date=function(e){return new Date(e)},Hn.array=function(e){return e},Hn.object=function(e){return e},Hn.string=function(e){return e},Hn.number=function(e){return e},Hn.boolean=function(e){return e},Hn.null=function(e){return e},Hn[void 0]=function(){},Hn),Zn={};function Gn(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Vn(){for(var e,n=Sn("idToProxyWindow"),t=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return Gn(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Gn(e,n):void 0}}(e))){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n.keys());!(e=t()).done;){var r=e.value;n.get(r).shouldClean()&&n.del(r)}}function Xn(e,n){var t=n.send,r=n.id,o=void 0===r?se():r,i=e.then((function(e){if(T(e))return I(e).name})),a=e.then((function(e){if(U(e))throw new Error("Window is closed, can not determine type");return N(e)?v.POPUP:v.IFRAME}));i.catch(me),a.catch(me);var u=function(){return e.then((function(e){if(!U(e))return T(e)?I(e).name:i}))};return{id:o,getType:function(){return a},getInstanceID:ye((function(){return e.then((function(e){return kn(e,{send:t})}))})),close:function(){return e.then(Z)},getName:u,focus:function(){return e.then((function(e){e.focus()}))},isClosed:function(){return e.then((function(e){return U(e)}))},setLocation:function(n,t){return void 0===t&&(t={}),e.then((function(e){var r=window.location.protocol+"//"+window.location.host,o=t.method,i=void 0===o?"get":o,a=t.body;if(0===n.indexOf("/"))n=""+r+n;else if(!n.match(/^https?:\/\//)&&0!==n.indexOf(r))throw new Error("Expected url to be http or https url, or absolute path, got "+JSON.stringify(n));if("post"===i)return u().then((function(e){if(!e)throw new Error("Can not post to window without target name");!function(e){var n=e.url,t=e.target,r=e.body,o=e.method,i=void 0===o?"post":o,a=document.createElement("form");if(a.setAttribute("target",t),a.setAttribute("method",i),a.setAttribute("action",n),a.style.display="none",r)for(var u=0,c=Object.keys(r);u<c.length;u++){var s,f=c[u],d=document.createElement("input");d.setAttribute("name",f),d.setAttribute("value",null==(s=r[f])?void 0:s.toString()),a.appendChild(d)}Ue().appendChild(a),a.submit(),Ue().removeChild(a)}({url:n,target:e,method:i,body:a})}));if("get"!==i)throw new Error("Unsupported method: "+i);if(T(e))try{if(e.location&&"function"==typeof e.location.replace)return void e.location.replace(n)}catch(e){}e.location=n}))},setName:function(n){return e.then((function(e){var t=T(e),r=J(e);if(!t)throw new Error("Can not set name for cross-domain window: "+n);I(e).name=n,r&&r.setAttribute("name",n),i=h.resolve(n)}))}}}new h((function(e){if(window.document&&window.document.body)return e(window.document.body);var n=setInterval((function(){if(window.document&&window.document.body)return clearInterval(n),e(window.document.body)}),10)}));var Kn=function(){function e(e){var n=e.send,t=e.win,r=e.serializedWindow;this.isProxyWindow=!0,this.actualWindowPromise=new h,this.serializedWindow=r||Xn(this.actualWindowPromise,{send:n}),Sn("idToProxyWindow").set(this.getID(),this),t&&this.setWindow(t,{send:n})}var n=e.prototype;return n.getID=function(){return this.serializedWindow.id},n.getType=function(){return this.serializedWindow.getType()},n.isPopup=function(){return this.getType().then((function(e){return e===v.POPUP}))},n.setLocation=function(e,n){var t=this;return this.serializedWindow.setLocation(e,n).then((function(){return t}))},n.getName=function(){return this.serializedWindow.getName()},n.setName=function(e){var n=this;return this.serializedWindow.setName(e).then((function(){return n}))},n.close=function(){var e=this;return this.serializedWindow.close().then((function(){return e}))},n.focus=function(){var e=this,n=this.isPopup(),t=this.getName(),r=h.hash({isPopup:n,name:t}).then((function(e){var n=e.name;e.isPopup&&n&&window.open("",n,"noopener")})),o=this.serializedWindow.focus();return h.all([r,o]).then((function(){return e}))},n.isClosed=function(){return this.serializedWindow.isClosed()},n.getWindow=function(){return this.actualWindow},n.setWindow=function(e,n){var t=n.send;this.actualWindow=e,this.actualWindowPromise.resolve(this.actualWindow),this.serializedWindow=Xn(this.actualWindowPromise,{send:t,id:this.getID()}),In("winToProxyWindow").set(e,this)},n.awaitWindow=function(){return this.actualWindowPromise},n.matchWindow=function(e,n){var t=this,r=n.send;return h.try((function(){return t.actualWindow?e===t.actualWindow:h.hash({proxyInstanceID:t.getInstanceID(),knownWindowInstanceID:kn(e,{send:r})}).then((function(n){var o=n.proxyInstanceID===n.knownWindowInstanceID;return o&&t.setWindow(e,{send:r}),o}))}))},n.unwrap=function(){return this.actualWindow||this},n.getInstanceID=function(){return this.serializedWindow.getInstanceID()},n.shouldClean=function(){return Boolean(this.actualWindow&&U(this.actualWindow))},n.serialize=function(){return this.serializedWindow},e.unwrap=function(n){return e.isProxyWindow(n)?n.unwrap():n},e.serialize=function(n,t){var r=t.send;return Vn(),e.toProxyWindow(n,{send:r}).serialize()},e.deserialize=function(n,t){var r=t.send;return Vn(),Sn("idToProxyWindow").get(n.id)||new e({serializedWindow:n,send:r})},e.isProxyWindow=function(e){return Boolean(e&&!B(e)&&e.isProxyWindow)},e.toProxyWindow=function(n,t){var r=t.send;if(Vn(),e.isProxyWindow(n))return n;var o=n;return In("winToProxyWindow").get(o)||new e({win:o,send:r})},e}();function et(e,n,t,r,o){var i=In("methodStore"),a=Sn("proxyWindowMethods");Kn.isProxyWindow(r)?a.set(e,{val:n,name:t,domain:o,source:r}):(a.del(e),i.getOrSet(r,(function(){return{}}))[e]={domain:o,name:t,val:n,source:r})}function nt(e,n){var t=In("methodStore"),r=Sn("proxyWindowMethods");return t.getOrSet(e,(function(){return{}}))[n]||r.get(n)}function tt(e,n,t,r,o){!function(e){var n=e.on,t=e.send;Sn("builtinListeners").getOrSet("functionCalls",(function(){return n(Ln,{domain:bn},(function(e){var n=e.source,r=e.origin,o=e.data,i=o.id,a=o.name,u=nt(n,i);if(!u)throw new Error("Could not find method '"+a+"' with id: "+o.id+" in "+D(window));var c=u.source,s=u.domain,f=u.val;return h.try((function(){if(!q(s,r))throw new Error("Method '"+o.name+"' domain "+JSON.stringify(ze(u.domain)?u.domain.source:u.domain)+" does not match origin "+r+" in "+D(window));if(Kn.isProxyWindow(c))return c.matchWindow(n,{send:t}).then((function(e){if(!e)throw new Error("Method call '"+o.name+"' failed - proxy window does not match source in "+D(window))}))})).then((function(){return f.apply({source:n,origin:r},o.args)}),(function(e){return h.try((function(){if(f.onError)return f.onError(e)})).then((function(){var n;throw e.stack&&(e.stack="Remote call to "+a+"("+(void 0===(n=o.args)&&(n=[]),Ae(n).map((function(e){return"string"==typeof e?"'"+e+"'":void 0===e?"undefined":null===e?"null":"boolean"==typeof e?e.toString():Array.isArray(e)?"[ ... ]":"object"==typeof e?"{ ... }":"function"==typeof e?"() => { ... }":"<"+typeof e+">"})).join(", ")+") failed\n\n")+e.stack),e}))})).then((function(e){return{result:e,id:i,name:a}}))}))}))}({on:o.on,send:o.send});var i=t.__id__||se();e=Kn.unwrap(e);var a=t.__name__||t.name||r;return"string"==typeof a&&"function"==typeof a.indexOf&&0===a.indexOf("anonymous::")&&(a=a.replace("anonymous::",r+"::")),Kn.isProxyWindow(e)?(et(i,t,a,e,n),e.awaitWindow().then((function(e){et(i,t,a,e,n)}))):et(i,t,a,e,n),qn("cross_domain_function",{id:i,name:a})}function rt(e,n,t,r){var o,i=r.on,a=r.send;return function(e,n){void 0===n&&(n=Bn);var t=JSON.stringify(e,(function(e){var t=this[e];if(Fn(this))return t;var r=Qn(t);if(!r)return t;var o=n[r]||$n[r];return o?o(t,e):t}));return void 0===t?Yn:t}(t,((o={}).promise=function(t,r){return function(e,n,t,r,o){return qn("cross_domain_zalgo_promise",{then:tt(e,n,(function(e,n){return t.then(e,n)}),r,{on:o.on,send:o.send})})}(e,n,t,r,{on:i,send:a})},o.function=function(t,r){return tt(e,n,t,r,{on:i,send:a})},o.object=function(e){return B(e)||Kn.isProxyWindow(e)?qn("cross_domain_window",Kn.serialize(e,{send:a})):e},o))}function ot(e,n,t,r){var o,i=r.send;return function(e,n){if(void 0===n&&(n=Zn),e!==Yn)return JSON.parse(e,(function(e,t){if(Fn(this))return t;var r,o;if(Fn(t)?(r=t.__type__,o=t.__val__):(r=Qn(t),o=t),!r)return o;var i=n[r]||Jn[r];return i?i(o,e):o}))}(t,((o={}).cross_domain_zalgo_promise=function(e){return function(e,n,t){return new h(t.then)}(0,0,e)},o.cross_domain_function=function(t){return function(e,n,t,r){var o=t.id,i=t.name,a=r.send,u=function(t){function r(){var u=arguments;return Kn.toProxyWindow(e,{send:a}).awaitWindow().then((function(e){var c=nt(e,o);if(c&&c.val!==r)return c.val.apply({source:window,origin:D()},u);var s=[].slice.call(u);return t.fireAndForget?a(e,Ln,{id:o,name:i,args:s},{domain:n,fireAndForget:!0}):a(e,Ln,{id:o,name:i,args:s},{domain:n,fireAndForget:!1}).then((function(e){return e.data.result}))})).catch((function(e){throw e}))}return void 0===t&&(t={}),r.__name__=i,r.__origin__=n,r.__source__=e,r.__id__=o,r.origin=n,r},c=u();return c.fireAndForget=u({fireAndForget:!0}),c}(e,n,t,{send:i})},o.cross_domain_window=function(e){return Kn.deserialize(e,{send:i})},o))}var it={};function at(e,n,t,r){var o=r.on,i=r.send;return h.try((function(){var r=In().getOrSet(e,(function(){return{}}));return r.buffer=r.buffer||[],r.buffer.push(t),r.flush=r.flush||h.flush().then((function(){if(U(e))throw new Error("Window is closed");var t,a,u=rt(e,n,(t=r.buffer||[],(a={})[En()]=t,a),{on:o,send:i});delete r.buffer;for(var c=Object.keys(it),s=[],f=0,d=c;f<d.length;f++){var l=d[f];try{it[l](e,u,n)}catch(e){s.push(e)}}if(s.length===c.length)throw new Error("All post-robot messaging strategies failed:\n\n"+s.map((function(e,n){return n+". "+ge(e)})).join("\n\n"))})),r.flush.then((function(){delete r.flush}))})).then(me)}function ut(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return ct(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ct(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ct(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function st(e){return Sn("responseListeners").get(e)}function ft(e){Sn("responseListeners").del(e)}function dt(e){return Sn("erroredResponseListeners").has(e)}function lt(e){var n=e.name,t=e.win,r=e.domain,o=In("requestListeners");if(t===bn&&(t=null),r===bn&&(r=null),!n)throw new Error("Name required to get request listener");for(var i=0,a=[t,Tn()];i<a.length;i++){var u=a[i];if(u){var c=o.get(u);if(c){var s=c[n];if(s){if(r&&"string"==typeof r){if(s[r])return s[r];if(s.__domain_regex__)for(var f,d=ut(s.__domain_regex__);!(f=d()).done;){var l=f.value,h=l.listener;if(q(l.regex,r))return h}}if(s["*"])return s["*"]}}}}}function ht(e,n){var t=e.name,r=e.win,o=e.domain,i=In("requestListeners");if(!t||"string"!=typeof t)throw new Error("Name required to add request listener");if(r&&r!==bn&&Kn.isProxyWindow(r)){var a=r.awaitWindow().then((function(e){return ht({name:t,win:e,domain:o},n)}));return{cancel:function(){a.then((function(e){return e.cancel()}),me)}}}var u=r;if(Array.isArray(u)){for(var c,s=[],f=ut(u);!(c=f()).done;)s.push(ht({name:t,domain:o,win:c.value},n));return{cancel:function(){for(var e,n=ut(s);!(e=n()).done;)e.value.cancel()}}}if(Array.isArray(o)){for(var d,l=[],h=ut(o);!(d=h()).done;)l.push(ht({name:t,win:u,domain:d.value},n));return{cancel:function(){for(var e,n=ut(l);!(e=n()).done;)e.value.cancel()}}}var p=lt({name:t,win:u,domain:o});u&&u!==bn||(u=Tn());var y=(o=o||bn).toString();if(p)throw u&&o?new Error("Request listener already exists for "+t+" on domain "+o.toString()+" for "+(u===Tn()?"wildcard":"specified")+" window"):u?new Error("Request listener already exists for "+t+" for "+(u===Tn()?"wildcard":"specified")+" window"):o?new Error("Request listener already exists for "+t+" on domain "+o.toString()):new Error("Request listener already exists for "+t);var w,m,v=i.getOrSet(u,(function(){return{}})),g=Oe(v,t,(function(){return{}}));return ze(o)?(w=Oe(g,"__domain_regex__",(function(){return[]}))).push(m={regex:o,listener:n}):g[y]=n,{cancel:function(){delete g[y],m&&(w.splice(w.indexOf(m,1)),w.length||delete g.__domain_regex__),Object.keys(g).length||delete v[t],u&&!Object.keys(v).length&&i.del(u)}}}function pt(e,n,t,r){var o=r.on,i=r.send,a=lt({name:t.name,win:e,domain:n}),u=t.name===Ln&&t.data&&"string"==typeof t.data.name?t.data.name+"()":t.name;function c(r,a,c){return h.flush().then((function(){if(!t.fireAndForget&&!U(e))try{return at(e,n,{id:se(),origin:D(window),type:vn,hash:t.hash,name:t.name,ack:r,data:a,error:c},{on:o,send:i})}catch(e){throw new Error("Send response message failed for "+u+" in "+D()+"\n\n"+ge(e))}}))}return h.all([h.flush().then((function(){if(!t.fireAndForget&&!U(e))try{return at(e,n,{id:se(),origin:D(window),type:gn,hash:t.hash,name:t.name},{on:o,send:i})}catch(e){throw new Error("Send ack message failed for "+u+" in "+D()+"\n\n"+ge(e))}})),h.try((function(){if(!a)throw new Error("No handler found for post message: "+t.name+" from "+n+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);return a.handler({source:e,origin:n,data:t.data})})).then((function(e){return c(Mn,e)}),(function(e){return c(jn,null,e)}))]).then(me).catch((function(e){if(a&&a.handleError)return a.handleError(e);throw e}))}function yt(e,n,t){if(!dt(t.hash)){var r=st(t.hash);if(!r)throw new Error("No handler found for post message ack for message: "+t.name+" from "+n+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);try{if(!q(r.domain,n))throw new Error("Ack origin "+n+" does not match domain "+r.domain.toString());if(e!==r.win)throw new Error("Ack source does not match registered window")}catch(e){r.promise.reject(e)}r.ack=!0}}function wt(e,n,t){if(!dt(t.hash)){var r,o=st(t.hash);if(!o)throw new Error("No handler found for post message response for message: "+t.name+" from "+n+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!q(o.domain,n))throw new Error("Response origin "+n+" does not match domain "+(r=o.domain,Array.isArray(r)?"("+r.join(" | ")+")":p(r)?"RegExp("+r.toString()+")":r.toString()));if(e!==o.win)throw new Error("Response source does not match registered window");ft(t.hash),t.ack===jn?o.promise.reject(t.error):t.ack===Mn&&o.promise.resolve({source:e,origin:n,data:t.data})}}function mt(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function vt(e,n){var t=n.on,r=n.send,o=Sn("receivedMessages");try{if(!window||window.closed||!e.source)return}catch(e){return}var i=e.source,a=e.origin,u=function(e,n,t,r){var o,i=r.on,a=r.send;try{o=ot(n,t,e,{on:i,send:a})}catch(e){return}if(o&&"object"==typeof o&&null!==o){var u=o[En()];if(Array.isArray(u))return u}}(e.data,i,a,{on:t,send:r});if(u){_n(i);for(var c,s=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return mt(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?mt(e,n):void 0}}(e))){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(u);!(c=s()).done;){var f=c.value;if(o.has(f.id))return;if(o.set(f.id,!0),U(i)&&!f.fireAndForget)return;0===f.origin.indexOf(w)&&(a="file://");try{f.type===mn?pt(i,a,f,{on:t,send:r}):f.type===vn?wt(i,a,f):f.type===gn&&yt(i,a,f)}catch(e){setTimeout((function(){throw e}),0)}}}}function gt(e,n,t){if(!e)throw new Error("Expected name");if("function"==typeof(n=n||{})&&(t=n,n={}),!t)throw new Error("Expected handler");var r=ht({name:e,win:n.window,domain:n.domain||bn},{handler:t||n.handler,handleError:n.errorHandler||function(e){throw e}});return{cancel:function(){r.cancel()}}}it.postrobot_post_message=function(e,n,t){0===t.indexOf(w)&&(t=bn),e.postMessage(n,t)},it.postrobot_global=function(e,n){if(!function(){return!!(e=window,(e=e||window).navigator.mockUserAgent||e.navigator.userAgent).match(/MSIE|rv:11|trident|edge\/12|edge\/13/i);var e}())throw new Error("Global messaging not needed for browser");if(!T(e))throw new Error("Post message through global disabled between different domain windows");if(!1!==Q(window,e))throw new Error("Can only use global to communicate between two different windows, not between frames");var t=Nn(e);if(!t)throw new Error("Can not find postRobot global on foreign window");t.receiveMessage({source:window,origin:D(),data:n})};var Mt=function e(n,t,r,o){var i=(o=o||{}).domain||bn,a=o.timeout||-1,u=o.timeout||5e3,c=o.fireAndForget||!1;return Kn.toProxyWindow(n,{send:e}).awaitWindow().then((function(n){return h.try((function(){if(function(e,n,t){if(!e)throw new Error("Expected name");if(t&&"string"!=typeof t&&!Array.isArray(t)&&!ze(t))throw new TypeError("Can not send "+e+". Expected domain "+JSON.stringify(t)+" to be a string, array, or regex");if(U(n))throw new Error("Can not send "+e+". Target window is closed")}(t,n,i),function(e,n){var t=R(n);if(t)return t===e;if(n===e)return!1;if(k(n)===n)return!1;for(var r,o=g(O(e));!(r=o()).done;)if(r.value===n)return!0;return!1}(window,n))return function(e,n,t){void 0===n&&(n=5e3),void 0===t&&(t="Window");var r=function(e){return In("helloPromises").getOrSet(e,(function(){return new h}))}(e);return-1!==n&&(r=r.timeout(n,new Error(t+" did not load after "+n+"ms"))),r}(n,u)})).then((function(t){return function(e,n,t,r){var o=r.send;return h.try((function(){return"string"==typeof n?n:h.try((function(){return t||Cn(e,{send:o}).then((function(e){return e.domain}))})).then((function(e){if(!q(n,n))throw new Error("Domain "+Me(n)+" does not match "+Me(n));return e}))}))}(n,i,(void 0===t?{}:t).domain,{send:e})})).then((function(o){var i=o,u=t===Ln&&r&&"string"==typeof r.name?r.name+"()":t,s=new h,f=t+"_"+se();if(!c){var d={name:t,win:n,domain:i,promise:s};!function(e,n){Sn("responseListeners").set(e,n)}(f,d);var l=In("requestPromises").getOrSet(n,(function(){return[]}));l.push(s),s.catch((function(){!function(e){Sn("erroredResponseListeners").set(e,!0)}(f),ft(f)}));var p=function(e){return In("knownWindows").get(e,!1)}(n)?1e4:2e3,y=a,w=p,m=y,v=xe((function(){return U(n)?s.reject(new Error("Window closed for "+t+" before "+(d.ack?"response":"ack"))):d.cancelled?s.reject(new Error("Response listener was cancelled for "+t)):(w=Math.max(w-500,0),-1!==m&&(m=Math.max(m-500,0)),d.ack||0!==w?0===m?s.reject(new Error("No response for postMessage "+u+" in "+D()+" in "+y+"ms")):void 0:s.reject(new Error("No ack for postMessage "+u+" in "+D()+" in "+p+"ms")))}),500);s.finally((function(){v.cancel(),l.splice(l.indexOf(s,1))})).catch(me)}return at(n,i,{id:se(),origin:D(window),type:mn,hash:f,name:t,data:r,fireAndForget:c},{on:gt,send:e}).then((function(){return c?s.resolve():s}),(function(e){throw new Error("Send request message failed for "+u+" in "+D()+"\n\n"+ge(e))}))}))}))};function jt(e,n,t){return rt(e,n,t,{on:gt,send:Mt})}function Lt(e,n,t){return ot(e,n,t,{on:gt,send:Mt})}function xt(e){return Kn.toProxyWindow(e,{send:Mt})}function bt(){Nn().initialized||(Nn().initialized=!0,function(e){var n=e.on,t=e.send,r=Nn();r.receiveMessage=r.receiveMessage||function(e){return vt(e,{on:n,send:t})}}({on:gt,send:Mt}),function(e){var n=e.on,t=e.send;Sn().getOrSet("postMessageListener",(function(){return Ke(window,"message",(function(e){!function(e,n){var t=n.on,r=n.send;h.try((function(){var n=e.source||e.sourceElement,o=e.origin||e.originalEvent&&e.originalEvent.origin,i=e.data;if("null"===o&&(o="file://"),n){if(!o)throw new Error("Post message did not have origin domain");vt({source:n,origin:o,data:i},{on:t,send:r})}}))}(e,{on:n,send:t})}))}))}({on:gt,send:Mt}),function(e){var n=e.on,t=e.send;Sn("builtinListeners").getOrSet("helloListener",(function(){var e=n(xn,{domain:bn},(function(e){return On(e.source,{domain:e.origin}),{instanceID:zn()}})),r=R();return r&&Cn(r,{send:t}).catch((function(e){})),e}))}({on:gt,send:Mt}))}function Et(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Nt(e){for(var n,t=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return Et(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Et(e,n):void 0}}(e))){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(In("requestPromises").get(e,[]));!(n=t()).done;)n.value.reject(new Error("Window "+(U(e)?"closed":"cleaned up")+" before response")).catch(me)}function At(e){var n="__zoid_9_0_79___"+dn();if(!T(e))throw new Error("Can not get global for window on different domain");return e[n]||(e[n]={}),e[n]}function St(e,n){try{return n(At(e))}catch(e){}}function Dt(e){return{get:function(){var n=this;return h.try((function(){if(n.source&&n.source!==window)throw new Error("Can not call get on proxy object from a remote window");return e}))}}}bt();var Tt="string",It="function",zt="uid",Ot="opener",Ct="parent",kt="global",_t=v,Pt="zoid-render",Wt="zoid-rendered",Ut="zoid-display",Rt="zoid-error",Yt="zoid-close",Ft="zoid-destroy",Qt="zoid-resize",qt="zoid-focus",Ht="post";function $t(e,n,t,r,o){if(!e.hasOwnProperty(t))return r;var i=e[t];return"function"==typeof i.childDecorate?i.childDecorate({value:r,uid:o.uid,tag:o.tag,close:o.close,focus:o.focus,onError:o.onError,onProps:o.onProps,resize:o.resize,getParent:o.getParent,getParentDomain:o.getParentDomain,show:o.show,hide:o.hide,export:o.export,getSiblings:o.getSiblings}):r}function Bt(e){return we(Bt,(function(){if(!e)throw new Error("No window name");var n=e.split("__"),t=n[1],r=n[2],o=n[3];if("zoid"!==t)throw new Error("Window not rendered by zoid - got "+t);if(!r)throw new Error("Expected component name");if(!o)throw new Error("Expected encoded payload");try{return JSON.parse(function(e){if("function"==typeof atob)return decodeURIComponent([].map.call(atob(e),(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));if("undefined"!=typeof Buffer)return Buffer.from(e,"base64").toString("utf8");throw new Error("Can not find window.atob or Buffer")}(o))}catch(e){throw new Error("Can not decode window name payload: "+o+": "+ge(e))}}),[e])}function Jt(){try{return Bt(window.name)}catch(e){}}function Zt(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return Gt(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Gt(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Gt(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Vt(){return h.try((function(){window.focus()}))}function Xt(){return h.try((function(){window.close()}))}var Kt=function(){return me},er=function(e){return ve(e.value)};function nr(e,n,t){for(var r=0,o=Object.keys(e);r<o.length;r++){var i=o[r],a=n[i];a&&t(i,a,e[i])}}function tr(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function rr(e,n,t){var r={};return h.all(function(e,n,o){var i=[];return nr(e,n,(function(e,n,o){var a=function(e,n,o){return h.resolve().then((function(){var i,a;if(null!=o){var u=(i={},i.get=n.queryParam,i.post=n.bodyParam,i)[t],c=(a={},a.get=n.queryValue,a.post=n.bodyValue,a)[t];if(u)return h.hash({finalParam:h.try((function(){return"function"==typeof u?u({value:o}):"string"==typeof u?u:e})),finalValue:h.try((function(){return"function"==typeof c&&Ie(o)?c({value:o}):o}))}).then((function(t){var o,i=t.finalParam,a=t.finalValue;if("boolean"==typeof a)o=a.toString();else if("string"==typeof a)o=a.toString();else if("object"==typeof a&&null!==a){if("json"===n.serialization)o=JSON.stringify(a);else if("base64"===n.serialization)o=ce(JSON.stringify(a));else if("dotify"===n.serialization||!n.serialization){o=be(a,e);for(var u=0,c=Object.keys(o);u<c.length;u++){var s=c[u];r[s]=o[s]}return}}else"number"==typeof a&&(o=a.toString());r[i]=o}))}}))}(e,n,o);i.push(a)})),i}(n,e)).then((function(){return r}))}function or(e){var n,t,r,i,a,u,c=e.uid,s=e.options,f=e.overrides,d=void 0===f?{}:f,l=e.parentWin,p=void 0===l?window:l,w=s.propsDef,m=s.containerTemplate,v=s.prerenderTemplate,g=s.tag,M=s.name,j=s.attributes,L=s.dimensions,x=s.autoResize,b=s.url,E=s.domain,N=s.exports,A=new h,S=[],z=Ce(),O={},C={visible:!0},k=d.event?d.event:(n={},t={},r={on:function(e,n){var r=t[e]=t[e]||[];r.push(n);var o=!1;return{cancel:function(){o||(o=!0,r.splice(r.indexOf(n),1))}}},once:function(e,n){var t=r.on(e,(function(){t.cancel(),n()}));return t},trigger:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=t[e],a=[];if(i)for(var u,c=function(){var e=u.value;a.push(h.try((function(){return e.apply(void 0,r)})))},s=re(i);!(u=s()).done;)c();return h.all(a).then(me)},triggerOnce:function(e){if(n[e])return h.resolve();n[e]=!0;for(var t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];return r.trigger.apply(r,[e].concat(o))},reset:function(){t={}}},r),_=d.props?d.props:{},P=d.onError,W=d.getProxyContainer,R=d.show,Y=d.hide,B=d.close,J=d.renderContainer,G=d.getProxyWindow,V=d.setProxyWin,X=d.openFrame,K=d.openPrerenderFrame,ee=d.prerender,ne=d.open,te=d.openPrerender,oe=d.watchForUnload,ie=d.getInternalState,ae=d.setInternalState,ue=function(){return"function"==typeof L?L({props:_}):L},fe=function(){return h.try((function(){return d.resolveInitPromise?d.resolveInitPromise():A.resolve()}))},de=function(e){return h.try((function(){return d.rejectInitPromise?d.rejectInitPromise(e):A.reject(e)}))},le=function(e){for(var n={},t=0,r=Object.keys(_);t<r.length;t++){var o=r[t],i=w[o];i&&!1===i.sendToChild||i&&i.sameDomain&&!q(e,D(window))||(n[o]=_[o])}return h.hash(n)},he=function(){return h.try((function(){return ie?ie():C}))},ye=function(e){return h.try((function(){return ae?ae(e):C=o({},C,e)}))},we=function(){return G?G():h.try((function(){var e=_.window;if(e){var n=xt(e);return z.register((function(){return e.close()})),n}return new Kn({send:Mt})}))},Le=function(e){return W?W(e):h.try((function(){return Be(e)})).then((function(e){return an(e)&&(e=un(e)),Dt(e)}))},be=function(e){return V?V(e):h.try((function(){i=e}))},Ee=function(){return R?R():h.hash({setState:ye({visible:!0}),showElement:a?a.get().then(en):null}).then(me)},Ne=function(){return Y?Y():h.hash({setState:ye({visible:!1}),showElement:a?a.get().then(nn):null}).then(me)},Se=function(){return"function"==typeof b?b({props:_}):b},De=function(){return"function"==typeof j?j({props:_}):j},Te=function(){return E&&"string"==typeof E?E:H(Se())},Oe=function(){return E&&ze(E)?E:Te()},ke=function(e,n){var t=n.windowName;return X?X(e,{windowName:t}):h.try((function(){if(e===_t.IFRAME)return Dt(Xe({attributes:o({name:t,title:M},De().iframe)}))}))},_e=function(e){return K?K(e):h.try((function(){if(e===_t.IFRAME)return Dt(Xe({attributes:o({name:"__zoid_prerender_frame__"+M+"_"+se()+"__",title:"prerender__"+M},De().iframe)}))}))},We=function(e,n,t){return te?te(e,n,t):h.try((function(){if(e===_t.IFRAME){if(!t)throw new Error("Expected proxy frame to be passed");return t.get().then((function(e){return z.register((function(){return tn(e)})),Ve(e).then((function(e){return I(e)})).then((function(e){return xt(e)}))}))}if(e===_t.POPUP)return n;throw new Error("No render context available for "+e)}))},Ue=function(){return h.try((function(){if(i)return h.all([k.trigger(qt),i.focus()]).then(me)}))},Re=function(e,n,t){if(n===D(window)){var r=At(window);return r.windows=r.windows||{},r.windows[c]=window,z.register((function(){delete r.windows[c]})),{type:kt,uid:c}}return t===_t.POPUP?{type:Ot}:{type:Ct,distance:F(window)}},Ye=function(e){return h.try((function(){u=e,fe(),z.register((function(){return e.close.fireAndForget().catch(me)}))}))},Fe=function(e){var n=e.width,t=e.height;return h.try((function(){k.trigger(Qt,{width:n,height:t})}))},Qe=function(e){return h.try((function(){return k.trigger(Ft)})).catch(me).then((function(){return z.all(e)})).then((function(){A.asyncReject(e||new Error("Component destroyed"))}))},Je=pe((function(e){return h.try((function(){if(B){if(U(B.__source__))return;return B()}return h.try((function(){return k.trigger(Yt)})).then((function(){return Qe(e||new Error("Component closed"))}))}))})),Ge=function(e,n){var t=n.proxyWin,r=n.proxyFrame,i=n.windowName;return ne?ne(e,{proxyWin:t,proxyFrame:r,windowName:i}):h.try((function(){if(e===_t.IFRAME){if(!r)throw new Error("Expected proxy frame to be passed");return r.get().then((function(e){return Ve(e).then((function(n){return z.register((function(){return tn(e)})),z.register((function(){return Nt(n)})),n}))}))}if(e===_t.POPUP){var n=ue(),t=n.width,a=void 0===t?"300px":t,u=n.height,c=void 0===u?"150px":u;a=wn(a,window.outerWidth),c=wn(c,window.outerWidth);var s=function(e,n){var t=(n=n||{}).closeOnUnload,r=void 0===t?1:t,i=n.name,a=void 0===i?"":i,u=n.width,c=n.height,s=0,f=0;u&&(window.outerWidth?f=Math.round((window.outerWidth-u)/2)+window.screenX:window.screen.width&&(f=Math.round((window.screen.width-u)/2))),c&&(window.outerHeight?s=Math.round((window.outerHeight-c)/2)+window.screenY:window.screen.height&&(s=Math.round((window.screen.height-c)/2))),delete n.closeOnUnload,delete n.name,u&&c&&(n=o({top:s,left:f,width:u,height:c,status:1,toolbar:0,menubar:0,resizable:1,scrollbars:1},n));var d,l,h=Object.keys(n).map((function(e){if(null!=n[e])return e+"="+Me(n[e])})).filter(Boolean).join(",");try{d=window.open("",a,h)}catch(l){throw new Ze("Can not open popup window - "+(l.stack||l.message))}if(U(d))throw new Ze("Can not open popup window - blocked");return r&&window.addEventListener("unload",(function(){return d.close()})),d}(0,o({name:i,width:a,height:c},De().popup));return z.register((function(){return Z(s)})),z.register((function(){return Nt(s)})),s}throw new Error("No render context available for "+e)})).then((function(e){return t.setWindow(e,{send:Mt}),t.setName(i).then((function(){return t}))}))},cn=function(){return h.try((function(){var e=Ke(window,"unload",ve((function(){Qe(new Error("Window navigated away"))}))),n=$(p,Qe,3e3);if(z.register(n.cancel),z.register(e.cancel),oe)return oe()}))},sn=function e(n,t){var r=!1;return z.register((function(){r=!0})),h.delay(2e3).then((function(){return n.isClosed()})).then((function(o){if(!r)return o?Je(new Error("Detected "+t+" close")):e(n,t)}))},fn=function(e){var n=!1;return e.isClosed().then((function(t){return t?(n=!0,Je(new Error("Detected component window close"))):h.delay(200).then((function(){return e.isClosed()})).then((function(e){if(e)return n=!0,Je(new Error("Detected component window close"))}))})).then((function(){return n}))},dn=function(e){return P?P(e):h.try((function(){if(-1===S.indexOf(e))return S.push(e),A.asyncReject(e),k.trigger(Rt,e)}))},ln=new h,hn=function(e){return h.try((function(){ln.resolve(e)}))};Ye.onError=dn;var pn=function(e,n){return e({uid:c,container:n.container,context:n.context,doc:n.doc,frame:n.frame,prerenderFrame:n.prerenderFrame,focus:Ue,close:Je,state:O,props:_,tag:g,dimensions:ue(),event:k})},yn=function(e,n){var t=n.context;return ee?ee(e,{context:t}):h.try((function(){if(v){var n=e.getWindow();if(n&&T(n)&&function(e){try{if(!e.location.href)return!0;if("about:blank"===e.location.href)return!0}catch(e){}return!1}(n)){var r=(n=I(n)).document,o=pn(v,{context:t,doc:r});if(o){if(o.ownerDocument!==r)throw new Error("Expected prerender template to have been created with document from child window");!function(e,n){var t=n.tagName.toLowerCase();if("html"!==t)throw new Error("Expected element to be html, got "+t);for(var r,o=e.document.documentElement,i=Pe(Ae(o.children));!(r=i()).done;)o.removeChild(r.value);for(var a,u=Pe(Ae(n.children));!(a=u()).done;)o.appendChild(a.value)}(n,o);var i=x.width,a=void 0!==i&&i,u=x.height,c=void 0!==u&&u,s=x.element,f=void 0===s?"body":s;if((f=$e(f,r))&&(a||c)){var d=on(f,(function(e){Fe({width:a?e.width:void 0,height:c?e.height:void 0})}),{width:a,height:c,win:n});k.on(Wt,d.cancel)}}}}}))},mn=function(e,n){var t=n.proxyFrame,r=n.proxyPrerenderFrame,o=n.context,i=n.rerender;return J?J(e,{proxyFrame:t,proxyPrerenderFrame:r,context:o,rerender:i}):h.hash({container:e.get(),frame:t?t.get():null,prerenderFrame:r?r.get():null,internalState:he()}).then((function(e){var n=e.container,t=e.internalState.visible,r=pn(m,{context:o,container:n,frame:e.frame,prerenderFrame:e.prerenderFrame,doc:document});if(r){t||nn(r),He(n,r);var u=function(e,n){n=ve(n);var t,r,o,i=!1,a=[],u=function(){i=!0;for(var e,n=Pe(a);!(e=n()).done;)e.value.disconnect();t&&t.cancel(),o&&o.removeEventListener("unload",c),r&&tn(r)},c=function(){i||(n(),u())};if(rn(e))return c(),{cancel:u};if(window.MutationObserver)for(var s=e.parentElement;s;){var f=new window.MutationObserver((function(){rn(e)&&c()}));f.observe(s,{childList:!0}),a.push(f),s=s.parentElement}return(r=document.createElement("iframe")).setAttribute("name","__detect_close_"+se()+"__"),r.style.display="none",Ve(r).then((function(e){(o=I(e)).addEventListener("unload",c)})),e.appendChild(r),t=xe((function(){rn(e)&&c()}),1e3),{cancel:u}}(r,(function(){var e=new Error("Detected container element removed from DOM");return h.delay(1).then((function(){if(!rn(r))return z.all(e),i().then(fe,de);Je(e)}))}));return z.register((function(){return u.cancel()})),z.register((function(){return tn(r)})),a=Dt(r)}}))},vn=function(){return{state:O,event:k,close:Je,focus:Ue,resize:Fe,onError:dn,updateProps:Mn,show:Ee,hide:Ne}},gn=function(e,n){void 0===n&&(n=!1);var t=vn();!function(e,n,t,r,o){void 0===o&&(o=!1),je(n,t=t||{});for(var i=o?[]:[].concat(Object.keys(e)),a=0,u=Object.keys(t);a<u.length;a++){var c=u[a];-1===i.indexOf(c)&&i.push(c)}for(var s,f=[],d=r.state,l=r.close,h=r.focus,p=r.event,y=r.onError,w=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return tr(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?tr(e,n):void 0}}(e))){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(i);!(s=w()).done;){var m=s.value,v=e[m],g=t[m];if(v){var M=v.alias;if(M&&(!Ie(g)&&Ie(t[M])&&(g=t[M]),f.push(M)),v.value&&(g=v.value({props:n,state:d,close:l,focus:h,event:p,onError:y})),!Ie(g)&&v.default&&(g=v.default({props:n,state:d,close:l,focus:h,event:p,onError:y})),Ie(g)&&("array"===v.type?!Array.isArray(g):typeof g!==v.type))throw new TypeError("Prop is not of type "+v.type+": "+m);n[m]=g}}for(var j=0,L=f;j<L.length;j++)delete n[L[j]];nr(n,e,(function(e,t,r){if(t&&Ie(r)&&t.decorate){var o=t.decorate({value:r,props:n,state:d,close:l,focus:h,event:p,onError:y});n[e]=o}}));for(var x=0,b=Object.keys(e);x<b.length;x++){var E=b[x];if(!1!==e[E].required&&!Ie(n[E]))throw new Error('Expected prop "'+E+'" to be defined')}}(w,_,e,t,n)},Mn=function(e){return gn(e,!0),A.then((function(){var e=u,n=i;if(e&&n)return le(Oe()).then((function(t){return e.updateProps(t).catch((function(e){return fn(n).then((function(n){if(!n)throw e}))}))}))}))};return{init:function(){k.on(Pt,(function(){return _.onRender()})),k.on(Ut,(function(){return _.onDisplay()})),k.on(Wt,(function(){return _.onRendered()})),k.on(Yt,(function(){return _.onClose()})),k.on(Ft,(function(){return _.onDestroy()})),k.on(Qt,(function(){return _.onResize()})),k.on(qt,(function(){return _.onFocus()})),k.on("zoid-props",(function(e){return _.onProps(e)})),k.on(Rt,(function(e){return _&&_.onError?_.onError(e):de(e).then((function(){setTimeout((function(){throw e}),1)}))})),z.register(k.reset)},render:function(e){var n=e.target,t=e.container,r=e.context,o=e.rerender;return h.try((function(){var e=Oe(),a=Te();!function(e,n,t){if(e!==window){if(!Q(window,e))throw new Error("Can only renderTo an adjacent frame");var r=D();if(!q(n,r)&&!T(e))throw new Error("Can not render remotely to "+n.toString()+" - can only render to "+r);if(t&&"string"!=typeof t)throw new Error("Container passed to renderTo must be a string selector, got "+typeof t+" }")}}(n,e,t);var u=h.try((function(){if(n!==window)return function(e,n){for(var t={},r=0,o=Object.keys(_);r<o.length;r++){var i=o[r],a=w[i];a&&a.allowDelegate&&(t[i]=_[i])}var u=Mt(n,"zoid_delegate_"+M,{uid:c,overrides:{props:t,event:k,close:Je,onError:dn,getInternalState:he,setInternalState:ye,resolveInitPromise:fe,rejectInitPromise:de}}).then((function(e){var t=e.data.parent;return z.register((function(e){if(!U(n))return t.destroy(e)})),t.getDelegateOverrides()})).catch((function(e){throw new Error("Unable to delegate rendering. Possibly the component is not loaded in the target window.\n\n"+ge(e))}));return W=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.getProxyContainer.apply(e,n)}))},J=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.renderContainer.apply(e,n)}))},R=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.show.apply(e,n)}))},Y=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.hide.apply(e,n)}))},oe=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.watchForUnload.apply(e,n)}))},e===_t.IFRAME?(G=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.getProxyWindow.apply(e,n)}))},X=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.openFrame.apply(e,n)}))},K=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.openPrerenderFrame.apply(e,n)}))},ee=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.prerender.apply(e,n)}))},ne=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.open.apply(e,n)}))},te=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.openPrerender.apply(e,n)}))}):e===_t.POPUP&&(V=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u.then((function(e){return e.setProxyWin.apply(e,n)}))}),u}(r,n)})),f=_.window,d=cn(),l=rr(w,_,"get").then((function(e){return function(e,n){var t,r,o=n.query||{},i=n.hash||{},a=e.split("#");r=a[1];var u=(t=a[0]).split("?");t=u[0];var c=qe(u[1],o),s=qe(r,i);return c&&(t=t+"?"+c),s&&(t=t+"#"+s),t}(function(e){if(0!==H(e).indexOf(y))return e;throw new Error("Mock urls not supported out of test mode")}(Se()),{query:e})})),p=rr(w,_,Ht),m=k.trigger(Pt),v=Le(t),j=we(),L=j.then((function(t){return function(e){var n=void 0===e?{}:e,t=n.proxyWin,r=n.childDomain,o=n.domain,i=(void 0===n.target&&window,n.context);return function(e,n,t){return le(t).then((function(r){var o=jt(e,t,r),i=n===D()?{type:zt,uid:c}:{type:"raw",value:o};if(i.type===zt){var a=At(window);a.props=a.props||{},a.props[c]=o,z.register((function(){delete a.props[c]}))}return i}))}(t,r,o).then((function(e){return{uid:c,context:i,tag:g,version:"9_0_79",childDomain:r,parentDomain:D(window),parent:Re(0,r,i),props:e,exports:jt(t,o,(n=t,{init:Ye,close:Je,checkClose:function(){return fn(n)},resize:Fe,onError:dn,show:Ee,hide:Ne,export:hn}))};var n}))}({proxyWin:(o={proxyWin:t,childDomain:a,domain:e,target:n,context:r}).proxyWin,childDomain:o.childDomain,domain:o.domain,target:o.target,context:o.context}).then((function(e){return"__zoid__"+M+"__"+ce(JSON.stringify(e))+"__"}));var o})),x=L.then((function(e){return ke(r,{windowName:e})})),b=_e(r),E=h.hash({proxyContainer:v,proxyFrame:x,proxyPrerenderFrame:b}).then((function(e){return mn(e.proxyContainer,{context:r,proxyFrame:e.proxyFrame,proxyPrerenderFrame:e.proxyPrerenderFrame,rerender:o})})).then((function(e){return e})),N=h.hash({windowName:L,proxyFrame:x,proxyWin:j}).then((function(e){var n=e.proxyWin;return f?n:Ge(r,{windowName:e.windowName,proxyWin:n,proxyFrame:e.proxyFrame})})),S=h.hash({proxyWin:N,proxyPrerenderFrame:b}).then((function(e){return We(r,e.proxyWin,e.proxyPrerenderFrame)})),I=N.then((function(e){return i=e,be(e)})),O=h.hash({proxyPrerenderWin:S,state:I}).then((function(e){return yn(e.proxyPrerenderWin,{context:r})})),C=h.hash({proxyWin:N,windowName:L}).then((function(e){if(f)return e.proxyWin.setName(e.windowName)})),P=h.hash({body:p}).then((function(e){return s.method?s.method:Object.keys(e.body).length?Ht:"get"})),F=h.hash({proxyWin:N,windowUrl:l,body:p,method:P,windowName:C,prerender:O}).then((function(e){return e.proxyWin.setLocation(e.windowUrl,{method:e.method,body:e.body})})),$=N.then((function(e){sn(e,r)})),B=h.hash({container:E,prerender:O}).then((function(){return k.trigger(Ut)})),Z=N.then((function(e){})),re=F.then((function(){return h.try((function(){var e=_.timeout;if(e)return A.timeout(e,new Error("Loading component timed out after "+e+" milliseconds"))}))})),ie=A.then((function(){return k.trigger(Wt)}));return h.hash({initPromise:A,buildUrlPromise:l,onRenderPromise:m,getProxyContainerPromise:v,openFramePromise:x,openPrerenderFramePromise:b,renderContainerPromise:E,openPromise:N,openPrerenderPromise:S,setStatePromise:I,prerenderPromise:O,loadUrlPromise:F,buildWindowNamePromise:L,setWindowNamePromise:C,watchForClosePromise:$,onDisplayPromise:B,openBridgePromise:Z,runTimeoutPromise:re,onRenderedPromise:ie,delegatePromise:u,watchForUnloadPromise:d})})).catch((function(e){return h.all([dn(e),Qe(e)]).then((function(){throw e}),(function(){throw e}))})).then(me)},destroy:Qe,getProps:function(){return _},setProps:gn,export:hn,getHelpers:vn,getDelegateOverrides:function(){return h.try((function(){return{getProxyContainer:Le,show:Ee,hide:Ne,renderContainer:mn,getProxyWindow:we,watchForUnload:cn,openFrame:ke,openPrerenderFrame:_e,prerender:yn,open:Ge,openPrerender:We,setProxyWin:be}}))},getExports:function(){return N({getExports:function(){return ln}})}}}var ir={register:function(e,n,t,o){var i=o.React,a=o.ReactDOM;return function(e){function n(){return e.apply(this,arguments)||this}r(n,e);var o=n.prototype;return o.render=function(){return i.createElement("div",null)},o.componentDidMount=function(){var e=a.findDOMNode(this),n=t(je({},this.props));n.render(e,_t.IFRAME),this.setState({parent:n})},o.componentDidUpdate=function(){this.state&&this.state.parent&&this.state.parent.updateProps(je({},this.props)).catch(me)},n}(i.Component)}},ar={register:function(e,n,t,r){return r.component(e,{render:function(e){return e("div")},inheritAttrs:!1,mounted:function(){var e,n=this.$el;this.parent=t(o({},(e=this.$attrs,Object.keys(e).reduce((function(n,t){var r=e[t];return"style-object"===t||"styleObject"===t?(n.style=r,n.styleObject=r):t.includes("-")?n[Ee(t)]=r:n[t]=r,n}),{})))),this.parent.render(n,_t.IFRAME)},watch:{$attrs:{handler:function(){this.parent&&this.$attrs&&this.parent.updateProps(o({},this.$attrs)).catch(me)},deep:!0}}})}},ur={register:function(e,n,t){return{template:"<div></div>",inheritAttrs:!1,mounted:function(){var e,n=this.$el;this.parent=t(o({},(e=this.$attrs,Object.keys(e).reduce((function(n,t){var r=e[t];return"style-object"===t||"styleObject"===t?(n.style=r,n.styleObject=r):t.includes("-")?n[Ee(t)]=r:n[t]=r,n}),{})))),this.parent.render(n,_t.IFRAME)},watch:{$attrs:{handler:function(){this.parent&&this.$attrs&&this.parent.updateProps(o({},this.$attrs)).catch(me)},deep:!0}}}}},cr={register:function(e,n,t,r){var o=r.module(e,[]).directive(Ee(e),(function(){for(var e={},r=0,o=Object.keys(n);r<o.length;r++)e[o[r]]="=";return e.props="=",{scope:e,restrict:"E",controller:["$scope","$element",function(e,n){function r(){if("$apply"!==e.$root.$$phase&&"$digest"!==e.$root.$$phase)try{e.$apply()}catch(e){}}var o=function(){return Te(e.props,(function(e){return"function"==typeof e?function(){var n=e.apply(this,arguments);return r(),n}:e}))},i=t(o());i.render(n[0],_t.IFRAME),e.$watch((function(){i.updateProps(o()).catch(me)}))}]}}));return o}},sr={register:function(e,n,t,r){var i=r.Component,a=r.NgModule,u=r.ElementRef,c=r.NgZone,s=r.Inject,f=function(){function e(e,n){this._props={},this.elementRef=e,this.zone=n}var n=e.prototype;return n.getProps=function(){var e=this;return Te(o({},this.internalProps,this.props),(function(n){if("function"==typeof n){var t=e.zone;return function(){var e=arguments,r=this;return t.run((function(){return n.apply(r,e)}))}}return n}))},n.ngOnInit=function(){var e=this.elementRef.nativeElement;this.parent=t(this.getProps()),this.parent.render(e,_t.IFRAME)},n.ngDoCheck=function(){this.parent&&!function(e,n){var t={};for(var r in e)if(e.hasOwnProperty(r)&&(t[r]=!0,e[r]!==n[r]))return!1;for(var o in n)if(!t[o])return!1;return!0}(this._props,this.props)&&(this._props=o({},this.props),this.parent.updateProps(this.getProps()))},e}();f.parameters=[[new s(u)],[new s(c)]],f.annotations=[new i({selector:e,template:"<div></div>",inputs:["props"]})];var d=function(){};return d.annotations=[new a({declarations:[f],exports:[f]})],d}},fr="zoid-visible",dr="zoid-invisible";function lr(e){var n=e.uid,t=e.frame,r=e.prerenderFrame,o=e.doc,i=e.props,a=e.event,u=e.dimensions,c=u.width,s=u.height;if(t&&r){var f=o.createElement("div");f.setAttribute("id",n);var d=o.createElement("style");return i.cspNonce&&d.setAttribute("nonce",i.cspNonce),d.appendChild(o.createTextNode("\n            #"+n+" {\n                display: inline-block;\n                position: relative;\n                width: "+c+";\n                height: "+s+";\n            }\n\n            #"+n+" > iframe {\n                display: inline-block;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                left: 0;\n                transition: opacity .2s ease-in-out;\n            }\n\n            #"+n+" > iframe.zoid-invisible {\n                opacity: 0;\n            }\n\n            #"+n+" > iframe.zoid-visible {\n                opacity: 1;\n        }\n        ")),f.appendChild(t),f.appendChild(r),f.appendChild(d),r.classList.add(fr),t.classList.add(dr),a.on(Wt,(function(){r.classList.remove(fr),r.classList.add(dr),t.classList.remove(dr),t.classList.add(fr),setTimeout((function(){tn(r)}),1)})),a.on(Qt,(function(e){var n=e.width,t=e.height;"number"==typeof n&&(f.style.width=yn(n)),"number"==typeof t&&(f.style.height=yn(t))})),f}}function hr(e){var n=e.doc,t=e.props,r=n.createElement("html"),o=n.createElement("body"),i=n.createElement("style"),a=n.createElement("div");return a.classList.add("spinner"),t.cspNonce&&i.setAttribute("nonce",t.cspNonce),r.appendChild(o),o.appendChild(a),o.appendChild(i),i.appendChild(n.createTextNode("\n            html, body {\n                width: 100%;\n                height: 100%;\n            }\n\n            .spinner {\n                position: fixed;\n                max-height: 60vmin;\n                max-width: 60vmin;\n                height: 40px;\n                width: 40px;\n                top: 50%;\n                left: 50%;\n                box-sizing: border-box;\n                border: 3px solid rgba(0, 0, 0, .2);\n                border-top-color: rgba(33, 128, 192, 0.8);\n                border-radius: 100%;\n                animation: rotation .7s infinite linear;\n            }\n\n            @keyframes rotation {\n                from {\n                    transform: translateX(-50%) translateY(-50%) rotate(0deg);\n                }\n                to {\n                    transform: translateX(-50%) translateY(-50%) rotate(359deg);\n                }\n            }\n        ")),r}var pr=Ce(),yr=Ce();function wr(e){var n,t,r=function(e){var n=e.tag,t=e.url,r=e.domain,i=e.bridgeUrl,a=e.props,u=void 0===a?{}:a,c=e.dimensions,s=void 0===c?{}:c,f=e.autoResize,d=void 0===f?{}:f,l=e.allowedParentDomains,h=void 0===l?"*":l,p=e.attributes,y=void 0===p?{}:p,w=e.defaultContext,m=void 0===w?_t.IFRAME:w,v=e.containerTemplate,g=void 0===v?lr:v,M=e.prerenderTemplate,j=void 0===M?hr:M,L=e.validate,x=e.eligible,b=void 0===x?function(){return{eligible:!0}}:x,E=e.logger,N=void 0===E?{info:me}:E,A=e.exports,S=void 0===A?me:A,D=e.method,I=e.children,z=void 0===I?function(){return{}}:I,O=n.replace(/-/g,"_"),C=o({},{window:{type:"object",sendToChild:!1,required:!1,allowDelegate:!0,validate:function(e){var n=e.value;if(!B(n)&&!Kn.isProxyWindow(n))throw new Error("Expected Window or ProxyWindow");if(B(n)){if(U(n))throw new Error("Window is closed");if(!T(n))throw new Error("Window is not same domain")}},decorate:function(e){return xt(e.value)}},timeout:{type:"number",required:!1,sendToChild:!1},cspNonce:{type:Tt,required:!1},onDisplay:{type:It,required:!1,sendToChild:!1,allowDelegate:!0,default:Kt,decorate:er},onRendered:{type:It,required:!1,sendToChild:!1,default:Kt,decorate:er},onRender:{type:It,required:!1,sendToChild:!1,default:Kt,decorate:er},onClose:{type:It,required:!1,sendToChild:!1,allowDelegate:!0,default:Kt,decorate:er},onDestroy:{type:It,required:!1,sendToChild:!1,allowDelegate:!0,default:Kt,decorate:er},onResize:{type:It,required:!1,sendToChild:!1,allowDelegate:!0,default:Kt},onFocus:{type:It,required:!1,sendToChild:!1,allowDelegate:!0,default:Kt},close:{type:It,required:!1,sendToChild:!1,childDecorate:function(e){return e.close}},focus:{type:It,required:!1,sendToChild:!1,childDecorate:function(e){return e.focus}},resize:{type:It,required:!1,sendToChild:!1,childDecorate:function(e){return e.resize}},uid:{type:Tt,required:!1,sendToChild:!1,childDecorate:function(e){return e.uid}},tag:{type:Tt,required:!1,sendToChild:!1,childDecorate:function(e){return e.tag}},getParent:{type:It,required:!1,sendToChild:!1,childDecorate:function(e){return e.getParent}},getParentDomain:{type:It,required:!1,sendToChild:!1,childDecorate:function(e){return e.getParentDomain}},show:{type:It,required:!1,sendToChild:!1,childDecorate:function(e){return e.show}},hide:{type:It,required:!1,sendToChild:!1,childDecorate:function(e){return e.hide}},export:{type:It,required:!1,sendToChild:!1,childDecorate:function(e){return e.export}},onError:{type:It,required:!1,sendToChild:!1,childDecorate:function(e){return e.onError}},onProps:{type:It,required:!1,sendToChild:!1,childDecorate:function(e){return e.onProps}},getSiblings:{type:It,required:!1,sendToChild:!1,childDecorate:function(e){return e.getSiblings}}},u);if(!g)throw new Error("Container template required");var k="function"==typeof S?S:function(e){for(var n=e.getExports,t={},r=function(){var e=i[o],r=S[e].type,a=n().then((function(n){return n[e]}));t[e]=r===It?function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return a.then((function(e){return e.apply(void 0,n)}))}:a},o=0,i=Object.keys(S);o<i.length;o++)r();return t};return{name:O,tag:n,url:t,domain:r,bridgeUrl:i,method:D,propsDef:C,dimensions:s,autoResize:d,allowedParentDomains:h,attributes:y,defaultContext:m,containerTemplate:g,prerenderTemplate:j,validate:L,logger:N,eligible:b,children:z,exports:k}}(e),i=r.name,a=r.tag,u=r.defaultContext,c=r.propsDef,s=r.eligible,f=r.children,d=At(window),l={},p=[],y=function(){var e=Jt();return Boolean(e&&e.tag===a&&e.childDomain===D())},w=pe((function(){if(y()){if(window.xprops)throw delete d.components[a],new Error("Can not register "+i+" as child - child already registered");var e=function(e){var n,t=e.tag,r=e.propsDef,o=e.autoResize,i=e.allowedParentDomains,a=[],u=Jt(),c=new h;if(!u)throw new Error("No child payload found");if("9_0_79"!==u.version)throw new Error("Parent window has zoid version "+u.version+", child window has version 9_0_79");var s=u.uid,f=u.parentDomain,d=u.exports,l=u.context,p=u.props,y=function(e){var n,t,r=e.type;if(r===Ot)return ke("opener",N(window));if(r===Ct&&"number"==typeof e.distance)return ke("parent",(n=window,void 0===(t=e.distance)&&(t=1),function(e,n){void 0===n&&(n=1);for(var t=e,r=0;r<n;r++){if(!t)return;t=E(t)}return t}(n,F(n)-t)));if(r===kt&&e.uid&&"string"==typeof e.uid){var o=function(){var n=e.uid,t=R(window);if(!t)throw new Error("Can not find ancestor window");for(var r,o=Zt(_(t));!(r=o()).done;){var i=r.value;if(T(i)){var a=St(i,(function(e){return e.windows&&e.windows[n]}));if(a)return{v:a}}}}();if("object"==typeof o)return o.v}throw new Error("Unable to find "+r+" parent component window")}(u.parent),w=Lt(y,f,d),m=w.show,v=w.hide,g=w.close,M=function(){return y},j=function(){return f},L=function(e){a.push(e)},x=function(e){return h.try((function(){if(w&&w.onError)return w.onError(e);throw e}))},b=function(e){return w.resize.fireAndForget({width:e.width,height:e.height})},A=function(e){return c.resolve(e),w.export(e)},S=function(e){var r=(void 0===e?{}:e).anyParent,o=[],i=n.parent;if(void 0===r&&(r=!i),!r&&!i)throw new Error("No parent found for "+t+" child");for(var a,u=Zt(_(window));!(a=u()).done;){var c=a.value;if(T(c)){var s=I(c).xprops;if(s&&M()===s.getParent()){var f=s.parent;if(r||!i||f&&f.uid===i.uid){var d=St(c,(function(e){return e.exports}));o.push({props:s,exports:d})}}}}return o},z=function(e,o,i){void 0===i&&(i=!1);var u=function(e,n,t,r,o,i){void 0===i&&(i=!1);for(var a={},u=0,c=Object.keys(t);u<c.length;u++){var s=c[u],f=n[s];if(!f||!f.sameDomain||r===D(window)&&T(e)){var d=$t(n,0,s,t[s],o);a[s]=d,f&&f.alias&&!a[f.alias]&&(a[f.alias]=d)}}if(!i)for(var l=0,h=Object.keys(n);l<h.length;l++){var p=h[l];t.hasOwnProperty(p)||(a[p]=$t(n,0,p,void 0,o))}return a}(y,r,e,o,{tag:t,show:m,hide:v,close:g,focus:Vt,onError:x,resize:b,getSiblings:S,onProps:L,getParent:M,getParentDomain:j,uid:s,export:A},i);n?je(n,u):n=u;for(var c,f=Zt(a);!(c=f()).done;)(0,c.value)(n)},O=function(e){return h.try((function(){return z(e,f,!0)}))};return{init:function(){return h.try((function(){return At(window).exports=e.exports({getExports:function(){return c}}),function(e,n){if(!q(e,n))throw new Error("Can not be rendered by domain: "+n)}(i,f),_n(y),window.addEventListener("beforeunload",(function(){w.checkClose.fireAndForget()})),window.addEventListener("unload",(function(){w.checkClose.fireAndForget()})),$(y,(function(){Xt()})),w.init({updateProps:O,close:Xt})})).then((function(){return(e=o.width,n=void 0!==e&&e,t=o.height,r=void 0!==t&&t,i=o.element,Be(void 0===i?"body":i).catch(me).then((function(e){return{width:n,height:r,element:e}}))).then((function(e){var n=e.width,t=e.height,r=e.element;r&&(n||t)&&l!==_t.POPUP&&on(r,(function(e){b({width:n?e.width:void 0,height:t?e.height:void 0})}),{width:n,height:t})}));var e,n,t,r,i})).catch((function(e){x(e)}))},getProps:function(){return n||(z(function(e,n,t){var r;if("raw"===t.type)r=t.value;else if(t.type===zt){if(!T(e))throw new Error("Parent component window is on a different domain - expected "+D()+" - can not retrieve props");var o=At(e);r=ke("props",o&&o.props[t.uid])}if(!r)throw new Error("Could not find props");return Lt(e,n,r)}(y,f,p),f),n)}}}(r);return e.init(),e}})),m=function e(n){var t,c="zoid-"+a+"-"+se(),d=n||{},l=s({props:d}),y=l.eligible,w=l.reason,m=d.onDestroy;d.onDestroy=function(){if(t&&y&&p.splice(p.indexOf(t),1),m)return m.apply(void 0,arguments)};var v=or({uid:c,options:r});v.init(),y?v.setProps(d):d.onDestroy&&d.onDestroy(),pr.register((function(e){return v.destroy(e||new Error("zoid destroyed all components"))}));var g=function(n){var t=(void 0===n?{}:n).decorate;return e((void 0===t?Le:t)(d))},M=function(e,n,r){return h.try((function(){if(!y){var n=new Error(w||i+" component is not eligible");return v.destroy(n).then((function(){throw n}))}if(!B(e))throw new Error("Must pass window to renderTo");return function(e,n){return h.try((function(){if(e.window)return xt(e.window).getType();if(n){if(n!==_t.IFRAME&&n!==_t.POPUP)throw new Error("Unrecognized context: "+n);return n}return u}))}(d,r)})).then((function(o){if(n=function(e,n){if(n){if("string"!=typeof n&&!ie(n))throw new TypeError("Expected string or element selector to be passed");return n}if(e===_t.POPUP)return"body";throw new Error("Expected element to be passed to render iframe")}(o,n),e!==window&&"string"!=typeof n)throw new Error("Must pass string element when rendering to another window");return v.render({target:e,container:n,context:o,rerender:function(){var o=g();return je(t,o),o.renderTo(e,n,r)}})})).catch((function(e){return v.destroy(e).then((function(){throw e}))}))};return t=o({},v.getExports(),v.getHelpers(),function(){for(var e=f(),n={},t=function(){var t=i[r],a=e[t];n[t]=function(e){var n=v.getProps(),t=o({},e,{parent:{uid:c,props:n,export:v.export}});return a(t)}},r=0,i=Object.keys(e);r<i.length;r++)t();return n}(),{isEligible:function(){return y},clone:g,render:function(e,n){return M(window,e,n)},renderTo:function(e,n,t){return M(e,n,t)}}),y&&p.push(t),t};if(w(),n=gt("zoid_allow_delegate_"+i,(function(){return!0})),t=gt("zoid_delegate_"+i,(function(e){var n=e.data;return{parent:or({uid:n.uid,options:r,overrides:n.overrides,parentWin:e.source})}})),yr.register(n.cancel),yr.register(t.cancel),d.components=d.components||{},d.components[a])throw new Error("Can not register multiple components with the same tag: "+a);return d.components[a]=!0,{init:m,instances:p,driver:function(e,n){var t={react:ir,angular:cr,vue:ar,vue3:ur,angular2:sr};if(!t[e])throw new Error("Could not find driver for framework: "+e);return l[e]||(l[e]=t[e].register(a,c,m,n)),l[e]},isChild:y,canRenderTo:function(e){return Mt(e,"zoid_allow_delegate_"+i).then((function(e){return e.data})).catch((function(){return!1}))},registerChild:w}}var mr=function(e){bt();var n=wr(e),t=function(e){return n.init(e)};t.driver=function(e,t){return n.driver(e,t)},t.isChild=function(){return n.isChild()},t.canRenderTo=function(e){return n.canRenderTo(e)},t.instances=n.instances;var r=n.registerChild();return r&&(window.xprops=t.xprops=r.getProps()),t};function vr(){return window.navigator.mockUserAgent||window.navigator.userAgent}function gr(e){return void 0===e&&(e=vr()),/Opera Mini/i.test(e)}function Mr(e){return void 0===e&&(e=vr()),!(function(e){return void 0===e&&(e=vr()),!!function(e){return void 0===e&&(e=vr()),/iPhone|iPod|iPad/.test(e)}(e)&&(!!function(e){return void 0===e&&(e=vr()),/\bGSA\b/.test(e)}(e)||/.+AppleWebKit(?!.*Safari)|.*WKWebView/.test(e))}(e)||function(e){return void 0===e&&(e=vr()),!!function(e){return void 0===e&&(e=vr()),/Android/.test(e)}(e)&&/Version\/[\d.]+/.test(e)&&!gr(e)}(e)||gr(e)||function(e){return void 0===e&&(e=vr()),/FxiOS/i.test(e)}(e)||function(e){return void 0===e&&(e=vr()),/EdgiOS/i.test(e)}(e)||function(e){return void 0===e&&(e=vr()),/FBAN/.test(e)||/FBAV/.test(e)}(e)||function(e){return void 0===e&&(e=vr()),/QQBrowser/.test(e)}(e)||"undefined"!=typeof process&&process.versions&&process.versions.electron||(n=vr(),/Macintosh.*AppleWebKit(?!.*Safari)/i.test(n))||!0===window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches);var n}function jr(e){try{if(!e)return!1;if("undefined"!=typeof Promise&&e instanceof Promise)return!0;if("undefined"!=typeof window&&"function"==typeof window.Window&&e instanceof window.Window)return!1;if("undefined"!=typeof window&&"function"==typeof window.constructor&&e instanceof window.constructor)return!1;var n={}.toString;if(n){var t=n.call(e);if("[object Window]"===t||"[object global]"===t||"[object DOMWindow]"===t)return!1}if("function"==typeof e.then)return!0}catch(e){return!1}return!1}var Lr,xr=[],br=[],Er=0;function Nr(){if(!Er&&Lr){var e=Lr;Lr=null,e.resolve()}}function Ar(){Er+=1}function Sr(){Er-=1,Nr()}var Dr=function(){function e(e){var n=this;if(this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],e){var t,r,o=!1,i=!1,a=!1;Ar();try{e((function(e){a?n.resolve(e):(o=!0,t=e)}),(function(e){a?n.reject(e):(i=!0,r=e)}))}catch(e){return Sr(),void this.reject(e)}Sr(),a=!0,o?this.resolve(t):i&&this.reject(r)}}var n=e.prototype;return n.resolve=function(e){if(this.resolved||this.rejected)return this;if(jr(e))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=e,this.dispatch(),this},n.reject=function(e){var n=this;if(this.resolved||this.rejected)return this;if(jr(e))throw new Error("Can not reject promise with another promise");if(!e){var t=e&&"function"==typeof e.toString?e.toString():{}.toString.call(e);e=new Error("Expected reject to be called with Error, got "+t)}return this.rejected=!0,this.error=e,this.errorHandled||setTimeout((function(){n.errorHandled||function(e,n){if(-1===xr.indexOf(e)){xr.push(e),setTimeout((function(){throw e}),1);for(var t=0;t<br.length;t++)br[t](e,n)}}(e,n)}),1),this.dispatch(),this},n.asyncReject=function(e){return this.errorHandled=!0,this.reject(e),this},n.dispatch=function(){var n=this.resolved,t=this.rejected,r=this.handlers;if(!this.dispatching&&(n||t)){this.dispatching=!0,Ar();for(var o=function(e,n){return e.then((function(e){n.resolve(e)}),(function(e){n.reject(e)}))},i=0;i<r.length;i++){var a=r[i],u=a.onSuccess,c=a.onError,s=a.promise,f=void 0;if(n)try{f=u?u(this.value):this.value}catch(e){s.reject(e);continue}else if(t){if(!c){s.reject(this.error);continue}try{f=c(this.error)}catch(e){s.reject(e);continue}}if(f instanceof e&&(f.resolved||f.rejected)){var d=f;d.resolved?s.resolve(d.value):s.reject(d.error),d.errorHandled=!0}else jr(f)?f instanceof e&&(f.resolved||f.rejected)?f.resolved?s.resolve(f.value):s.reject(f.error):o(f,s):s.resolve(f)}r.length=0,this.dispatching=!1,Sr()}},n.then=function(n,t){if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.then expected a function for success handler");if(t&&"function"!=typeof t&&!t.call)throw new Error("Promise.then expected a function for error handler");var r=new e;return this.handlers.push({promise:r,onSuccess:n,onError:t}),this.errorHandled=!0,this.dispatch(),r},n.catch=function(e){return this.then(void 0,e)},n.finally=function(n){if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.finally expected a function");return this.then((function(t){return e.try(n).then((function(){return t}))}),(function(t){return e.try(n).then((function(){throw t}))}))},n.timeout=function(e,n){var t=this;if(this.resolved||this.rejected)return this;var r=setTimeout((function(){t.resolved||t.rejected||t.reject(n||new Error("Promise timed out after "+e+"ms"))}),e);return this.then((function(e){return clearTimeout(r),e}))},n.toPromise=function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)},n.lazy=function(){return this.errorHandled=!0,this},e.resolve=function(n){return n instanceof e?n:jr(n)?new e((function(e,t){return n.then(e,t)})):(new e).resolve(n)},e.reject=function(n){return(new e).reject(n)},e.asyncReject=function(n){return(new e).asyncReject(n)},e.all=function(n){var t=new e,r=n.length,o=[].slice();if(!r)return t.resolve(o),t;for(var i=function(e,n,i){return n.then((function(n){o[e]=n,0==(r-=1)&&t.resolve(o)}),(function(e){i.reject(e)}))},a=0;a<n.length;a++){var u=n[a];if(u instanceof e){if(u.resolved){o[a]=u.value,r-=1;continue}}else if(!jr(u)){o[a]=u,r-=1;continue}i(a,e.resolve(u),t)}return 0===r&&t.resolve(o),t},e.hash=function(n){var t={},r=[],o=function(e){if(n.hasOwnProperty(e)){var o=n[e];jr(o)?r.push(o.then((function(n){t[e]=n}))):t[e]=o}};for(var i in n)o(i);return e.all(r).then((function(){return t}))},e.map=function(n,t){return e.all(n.map(t))},e.onPossiblyUnhandledException=function(e){return function(e){return br.push(e),{cancel:function(){br.splice(br.indexOf(e),1)}}}(e)},e.try=function(n,t,r){if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.try expected a function");var o;Ar();try{o=n.apply(t,r||[])}catch(n){return Sr(),e.reject(n)}return Sr(),e.resolve(o)},e.delay=function(n){return new e((function(e){setTimeout(e,n)}))},e.isPromise=function(n){return!!(n&&n instanceof e)||jr(n)},e.flush=function(){return n=Lr=Lr||new e,Nr(),n;var n},e}(),Tr="mock:",Ir="about:",zr="Call was rejected by callee.\r\n";function Or(e){return void 0===e&&(e=window),e.location.protocol}function Cr(e){if(void 0===e&&(e=window),e.mockDomain){var n=e.mockDomain.split("//")[0];if(n)return n}return Or(e)}function kr(e){return void 0===e&&(e=window),Cr(e)===Ir}function _r(e){try{return!0}catch(e){}return!1}function Pr(e){void 0===e&&(e=window);var n=e.location;if(!n)throw new Error("Can not read window location");var t=Or(e);if(!t)throw new Error("Can not read window protocol");if("file:"===t)return"file://";if(t===Ir){var r=function(e){if(void 0===e&&(e=window),e)try{if(e.parent&&e.parent!==e)return e.parent}catch(e){}}(e);return r&&_r()?Pr(r):"about://"}var o=n.host;if(!o)throw new Error("Can not read window host");return t+"//"+o}function Wr(e){void 0===e&&(e=window);var n=Pr(e);return n&&e.mockDomain&&0===e.mockDomain.indexOf(Tr)?e.mockDomain:n}var Ur=[],Rr=[];function Yr(e,n){void 0===n&&(n=!0);try{if(e===window)return!1}catch(e){return!0}try{if(!e)return!0}catch(e){return!0}try{if(e.closed)return!0}catch(e){return!e||e.message!==zr}if(n&&function(e){if(!function(e){try{if(e===window)return!0}catch(e){}try{var n=Object.getOwnPropertyDescriptor(e,"location");if(n&&!1===n.enumerable)return!1}catch(e){}try{if(kr(e)&&_r())return!0}catch(e){}try{if(function(e){return void 0===e&&(e=window),Cr(e)===Tr}(e)&&_r())return!0}catch(e){}try{if(Pr(e)===Pr(window))return!0}catch(e){}return!1}(e))return!1;try{if(e===window)return!0;if(kr(e)&&_r())return!0;if(Wr(window)===Wr(e))return!0}catch(e){}return!1}(e))try{if(e.mockclosed)return!0}catch(e){}try{if(!e.parent||!e.top)return!0}catch(e){}var t=function(e,n){for(var t=0;t<e.length;t++)try{if(e[t]===n)return t}catch(e){}return-1}(Ur,e);if(-1!==t){var r=Rr[t];if(r&&function(e){if(!e.contentWindow)return!0;if(!e.parentNode)return!0;var n=e.ownerDocument;if(n&&n.documentElement&&!n.documentElement.contains(e)){for(var t=e;t.parentNode&&t.parentNode!==t;)t=t.parentNode;if(!t.host||!n.documentElement.contains(t.host))return!0}return!1}(r))return!0}return!1}function Fr(e){try{if(e===window)return!0}catch(e){if(e&&e.message===zr)return!0}try{if("[object Window]"==={}.toString.call(e))return!0}catch(e){if(e&&e.message===zr)return!0}try{if(window.Window&&e instanceof window.Window)return!0}catch(e){if(e&&e.message===zr)return!0}try{if(e&&e.self===e)return!0}catch(e){if(e&&e.message===zr)return!0}try{if(e&&e.parent===e)return!0}catch(e){if(e&&e.message===zr)return!0}try{if(e&&e.top===e)return!0}catch(e){if(e&&e.message===zr)return!0}try{if(e&&"__unlikely_value__"===e.__cross_domain_utils_window_check__)return!1}catch(e){return!0}try{if("postMessage"in e&&"self"in e&&"location"in e)return!0}catch(e){}return!1}function Qr(e,n){for(var t=0;t<e.length;t++)try{if(e[t]===n)return t}catch(e){}return-1}var qr,Hr=function(){function e(){if(this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__",function(){if("undefined"==typeof WeakMap)return!1;if(void 0===Object.freeze)return!1;try{var e=new WeakMap,n={},t="__testvalue__";return Object.freeze(n),e.set(n,t),e.get(n)===t}catch(e){return!1}}())try{this.weakmap=new WeakMap}catch(e){}this.keys=[],this.values=[]}var n=e.prototype;return n._cleanupClosedWindows=function(){for(var e=this.weakmap,n=this.keys,t=0;t<n.length;t++){var r=n[t];if(Fr(r)&&Yr(r)){if(e)try{e.delete(r)}catch(e){}n.splice(t,1),this.values.splice(t,1),t-=1}}},n.isSafeToReadWrite=function(e){return!Fr(e)},n.set=function(e,n){if(!e)throw new Error("WeakMap expected key");var t=this.weakmap;if(t)try{t.set(e,n)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var r=this.name,o=e[r];return void(o&&o[0]===e?o[1]=n:Object.defineProperty(e,r,{value:[e,n],writable:!0}))}catch(e){}this._cleanupClosedWindows();var i=this.keys,a=this.values,u=Qr(i,e);-1===u?(i.push(e),a.push(n)):a[u]=n},n.get=function(e){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{if(n.has(e))return n.get(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var t=e[this.name];return t&&t[0]===e?t[1]:void 0}catch(e){}this._cleanupClosedWindows();var r=Qr(this.keys,e);if(-1!==r)return this.values[r]},n.delete=function(e){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{n.delete(e)}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var t=e[this.name];t&&t[0]===e&&(t[0]=t[1]=void 0)}catch(e){}this._cleanupClosedWindows();var r=this.keys,o=Qr(r,e);-1!==o&&(r.splice(o,1),this.values.splice(o,1))},n.has=function(e){if(!e)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{if(n.has(e))return!0}catch(e){delete this.weakmap}if(this.isSafeToReadWrite(e))try{var t=e[this.name];return!(!t||t[0]!==e)}catch(e){}return this._cleanupClosedWindows(),-1!==Qr(this.keys,e)},n.getOrSet=function(e,n){if(this.has(e))return this.get(e);var t=n();return this.set(e,t),t},e}();function $r(e){var n=!1;try{(e instanceof window.Element||null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument)&&(n=!0)}catch(e){}return n}function Br(e){return e.name||e.__name__||e.displayName||"anonymous"}function Jr(e,n){try{delete e.name,e.name=n}catch(e){}return e.__name__=e.displayName=n,e}function Zr(){var e="0123456789abcdef";return"uid_"+"xxxxxxxxxx".replace(/./g,(function(){return e.charAt(Math.floor(Math.random()*e.length))}))+"_"+function(e){if("function"==typeof btoa)return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,n){return String.fromCharCode(parseInt(n,16))}))).replace(/[=]/g,"");if("undefined"!=typeof Buffer)return Buffer.from(e,"utf8").toString("base64").replace(/[=]/g,"");throw new Error("Can not find window.btoa or Buffer")}((new Date).toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}function Gr(e){try{return JSON.stringify([].slice.call(e),(function(e,n){return"function"==typeof n?"memoize["+function(e){if(qr=qr||new Hr,null==e||"object"!=typeof e&&"function"!=typeof e)throw new Error("Invalid object");var n=qr.get(e);return n||(n=typeof e+":"+Zr(),qr.set(e,n)),n}(n)+"]":$r(n)?{}:n}))}catch(e){throw new Error("Arguments not serializable -- can not be used to memoize")}}function Vr(){return{}}var Xr=0,Kr=0;function eo(e,n){void 0===n&&(n={});var t,r,o=n.thisNamespace,i=void 0!==o&&o,a=n.time,u=Xr;Xr+=1;var c=function(){for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];var s,f;u<Kr&&(t=null,r=null,u=Xr,Xr+=1),s=i?(r=r||new Hr).getOrSet(this,Vr):t=t||{};try{f=Gr(o)}catch(n){return e.apply(this,arguments)}var d=s[f];if(d&&a&&Date.now()-d.time<a&&(delete s[f],d=null),d)return d.value;var l=Date.now(),h=e.apply(this,arguments);return s[f]={time:l,value:h},h};return c.reset=function(){t=null,r=null},Jr(c,(n.name||Br(e))+"::memoized")}function no(){}function to(e){var n=!1;return Jr((function(){if(!n)return n=!0,e.apply(this,arguments)}),Br(e)+"::once")}eo.clear=function(){Kr=Xr},eo((function(e){if(Object.values)return Object.values(e);var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n})),Error;function ro(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return oo(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?oo(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oo(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function io(){return Boolean(document.body)&&"complete"===document.readyState}function ao(){return Boolean(document.body)&&"interactive"===document.readyState}function uo(e,n,t){t=to(t);for(var r,o=ro(n);!(r=o()).done;)e.addEventListener(r.value,t);return{cancel:to((function(){for(var r,o=ro(n);!(r=o()).done;)e.removeEventListener(r.value,t)}))}}eo((function(){return new Dr((function(e){if(io()||ao())return e();var n=setInterval((function(){if(io()||ao())return clearInterval(n),e()}),10)}))}));var co=["webkit","moz","ms","o"],so=["animationstart","webkitAnimationStart","oAnimationStart","MSAnimationStart"],fo=["animationend","webkitAnimationEnd","oAnimationEnd","MSAnimationEnd"];function lo(e,n,t,r){return void 0===r&&(r=1e3),new Dr((function(o,i){var a=function(e,n){void 0===n&&(n=document);var t,r=function(e,n){return void 0===n&&(n=document),$r(e)?e:"string"==typeof e?n.querySelector(e):void 0}(e,n);if(r)return r;throw new Error("Can not find element: "+("string"==typeof(t=e)?t:t&&t.toString&&"function"==typeof t.toString?t.toString():{}.toString.call(t)))}(e);if(!a)return o();var u,c,s,f,d=!1;function l(){clearTimeout(u),clearTimeout(c),s.cancel(),f.cancel()}s=uo(a,so,(function(e){e.target===a&&e.animationName===n&&(clearTimeout(u),e.stopPropagation(),s.cancel(),d=!0,c=setTimeout((function(){l(),o()}),r))})),f=uo(a,fo,(function(e){if(e.target===a&&e.animationName===n)return l(),"string"==typeof e.animationName&&e.animationName!==n?i("Expected animation name to be "+n+", found "+e.animationName):o()})),function(e,n,t){e.style[n]=t;for(var r,o,i=(r=n).charAt(0).toUpperCase()+r.slice(1).toLowerCase(),a=ro(co);!(o=a()).done;)e.style[""+o.value+i]=t}(a,"animationName",n),u=setTimeout((function(){if(!d)return l(),o()}),200),t&&t(l)}))}function ho(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var po="undefined"!=typeof document?document.currentScript:null,yo=eo((function(){if(po)return po;if(po=function(){try{var e=function(){try{throw new Error("_")}catch(e){return e.stack||""}}(),n=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(e),t=n&&n[1];if(!t)return;for(var r,o=ro([].slice.call(document.getElementsByTagName("script")).reverse());!(r=o()).done;){var i=r.value;if(i.src&&i.src===t)return i}}catch(e){}}())return po;throw new Error("Can not determine current script")})),wo=Zr();function mo(e){return function(e){if("number"==typeof e)return e;var n=e.match(/^([0-9]+)(px|%)$/);if(!n)throw new Error("Could not match css value from "+e);return parseInt(n[1],10)}(e)+"px"}function vo(e){return"number"==typeof e?mo(e):"string"==typeof(n=e)&&/^[0-9]+%$/.test(n)?e:mo(e);var n}eo((function(){var e;try{e=yo()}catch(e){return wo}var n=e.getAttribute("data-uid");if(n&&"string"==typeof n)return n;if((n=e.getAttribute("data-uid-auto"))&&"string"==typeof n)return n;if(e.src){var t=function(e){for(var n="",t=0;t<e.length;t++){var r=e[t].charCodeAt(0)*t;e[t+1]&&(r+=e[t+1].charCodeAt(0)*(t-1)),n+=String.fromCharCode(97+Math.abs(r)%26)}return n}(JSON.stringify({src:e.src,dataset:e.dataset}));n="uid_"+t.slice(t.length-30)}else n=Zr();return e.setAttribute("data-uid-auto",n),n}));var go,Mo,jo,Lo="development",xo={env:"local",checkoutUris:(go={},go.local="/",go[Lo]="/embedded",go.sandbox="/embedded",go.production="/embedded",go),buttonUris:(Mo={},Mo.local="",Mo[Lo]="/button",Mo.sandbox="/button",Mo.production="/button",Mo),postBridgeUris:(jo={},jo.local="?xcomponent=1",jo[Lo]="/bridge?xcomponent=1",jo.sandbox="/bridge?xcomponent=1",jo.production="/bridge?xcomponent=1",jo),get safepayDomainRegex(){return/\.?(getsafepay|localhost)\.?(com)?(:\d+)?$/},get buttonDomains(){var e;return(e={}).local="http://localhost:3000",e[Lo]="https://dev.api.getsafepay.com",e.sandbox="https://sandbox.api.getsafepay.com",e.production="https://getsafepay.com",e},get checkoutDomains(){var e;return(e={}).local="http://localhost:7050",e[Lo]="https://dev.api.getsafepay.com",e.sandbox="https://sandbox.api.getsafepay.com",e.production="https://getsafepay.com",e},get bridgeDomains(){var e;return(e={}).local="http://localhost:3020",e[Lo]="https://dev.api.getsafepay.com",e.sandbox="https://sandbox.api.getsafepay.com",e.production="https://getsafepay.com",e},get checkoutUrls(){var e,n=xo.checkoutDomains,t=xo.checkoutUris;return(e={}).local=""+n.local+t.local,e[Lo]=""+n.development+t.development,e.sandbox=""+n.sandbox+t.sandbox,e.production=""+n.production+t.production,e},get buttonUrls(){var e,n=xo.buttonDomains,t=xo.buttonUris;return(e={}).local=""+n.local+t.local,e[Lo]=""+n.development+t.development,e.sandbox=""+n.sandbox+t.sandbox,e.production=""+n.production+t.production,e},get metaFrameUrls(){var e,n=xo.bridgeDomains,t=xo.postBridgeUris;return(e={}).local=""+n.local+t.local,e[Lo]=""+n.development+t.development,e.sandbox=""+n.sandbox+t.sandbox,e.production=""+n.production+t.production,e}},bo="element",Eo="text",No="component";function Ao(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return So(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?So(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function So(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Do(e,n){for(var t,r=[],o=Ao(e);!(t=o()).done;){var i=t.value.render(n);if(i)if(Array.isArray(i))for(var a,u=Ao(i);!(a=u()).done;){var c=a.value;c&&r.push(c)}else r.push(i)}return r}var To=function(){function e(e,n,t){this.type=bo,this.name=e,this.props=n||{},this.children=t;var r=this.props.onRender;"function"==typeof r&&(this.onRender=r,delete n.onRender)}var n=e.prototype;return n.render=function(e){var n=e(this);return this.onRender&&this.onRender(n),n},n.renderChildren=function(e){return Do(this.children,e)},e}(),Io=function(){function e(e){this.type="fragment",this.children=e}return e.prototype.render=function(e){return Do(this.children,e)},e}(),zo=function(){function e(e){this.type=Eo,this.text=e}return e.prototype.render=function(e){return e(this)},e}(),Oo=function(){function e(e,n,t){this.type=No,this.component=e,this.props=n||{},this.children=t,this.props.children=t}var n=e.prototype;return n.renderComponent=function(e){var n=function(e){var n=Co(Array.isArray(e)?e:[e]);return 1===n.length?n[0]:n.length>1?new Io(n):void 0}(this.component(this.props,this.children));if(n)return n.render(e)},n.render=function(e){return e(this)},n.renderChildren=function(e){return Do(this.children,e)},e}();function Co(e){for(var n,t=[],r=Ao(e);!(n=r()).done;){var o=n.value;if(o)if("string"==typeof o||"number"==typeof o)t.push(new zo(o.toString()));else{if("boolean"==typeof o)continue;if(Array.isArray(o))for(var i,a=Ao(Co(o));!(i=a()).done;)t.push(i.value);else{if(!o||o.type!==bo&&o.type!==Eo&&o.type!==No)throw new TypeError("Unrecognized node type: "+typeof o);t.push(o)}}}return t}var ko,_o,Po,Wo=function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o];if(r=Co(r),"string"==typeof e)return new To(e,n,r);if("function"==typeof e)return new Oo(e,n,r);throw new TypeError("Expected jsx element to be a string or a function")},Uo="0123456789abcdef";function Ro(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return Yo(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Yo(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Yo(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var Fo="innerHTML",Qo=((ko={}).svg="http://www.w3.org/2000/svg",ko),qo=((_o={})["xlink:href"]="http://www.w3.org/1999/xlink",_o);function Ho(e,n){return e.createTextNode(n.text)}function $o(e,n){for(var t=n.props,r=0,o=Object.keys(t);r<o.length;r++){var i=o[r],a=t[i];if(null!=a&&"el"!==i&&i!==Fo)if(i.match(/^on[A-Z][a-z]/)&&"function"==typeof a)e.addEventListener(i.slice(2).toLowerCase(),a);else if("string"==typeof a||"number"==typeof a){var u=qo[i];u?e.setAttributeNS(u,i,a.toString()):e.setAttribute(i,a.toString())}else"boolean"==typeof a&&!0===a&&e.setAttribute(i,"")}"iframe"!==e.tagName.toLowerCase()||t.id||e.setAttribute("id","jsx-iframe-"+"xxxxxxxxxx".replace(/./g,(function(){return Uo.charAt(Math.floor(Math.random()*Uo.length))})))}var Bo=((Po={}).iframe=function(e,n){var t=n.children[0];if(1!==n.children.length||!t||t.type!==bo||"html"!==t.name)throw new Error("Expected only single html element node as child of iframe element");e.addEventListener("load",(function(){var n=e.contentWindow;if(!n)throw new Error("Expected frame to have contentWindow");for(var r=n.document,o=r.documentElement;o.children&&o.children.length;)o.removeChild(o.children[0]);for(var i=t.render(Zo({doc:r}));i.children.length;)o.appendChild(i.children[0])}))},Po.script=function(e,n){var t=n.children[0];if(1!==n.children.length||!t||t.type!==Eo)throw new Error("Expected only single text node as child of script element");e.text=t.text},Po.default=function(e,n,t){for(var r,o=Ro(n.renderChildren(t));!(r=o()).done;)e.appendChild(r.value)},Po);function Jo(e,n,t,r){if(n.props.hasOwnProperty(Fo)){if(n.children.length)throw new Error("Expected no children to be passed when innerHTML prop is set");var o=n.props.innerHTML;if("string"!=typeof o)throw new TypeError("innerHTML prop must be string");"script"===n.name?e.text=o:(e.innerHTML=o,function(e,n){void 0===n&&(n=window.document);for(var t,r=Ro(e.querySelectorAll("script"));!(t=r()).done;){var o=t.value,i=o.parentNode;if(i){var a=n.createElement("script");a.text=o.textContent,i.replaceChild(a,o)}}}(e,t))}else(Bo[n.name]||Bo.default)(e,n,r)}function Zo(e){void 0===e&&(e={});var n=e.doc,t=void 0===n?document:n,r=function e(n,r){if(n.type===No)return n.renderComponent((function(n){return e(n,r)}));if(n.type===Eo)return Ho(t,n);if(n.type===bo){var o=function(e,n,t){return e.createElementNS(t,n.name)}(t,n,r);return $o(o,n),Jo(o,n,t,(function(n){return e(n,r)})),o}throw new TypeError("Unhandleable node")};return function e(n){if(n.type===No)return n.renderComponent(e);if(n.type===Eo)return Ho(t,n);if(n.type===bo){var o=Qo[n.name.toLowerCase()];if(o)return r(n,o);var i=function(e,n){return n.props.el?n.props.el:e.createElement(n.name)}(t,n);return $o(i,n),Jo(i,n,t,e),i}throw new TypeError("Unhandleable node")}}var Go,Vo=["dark","light"],Xo=["primary","secondary","dark"],Ko=["large","medium","small"],ei=((Go={}).small={defaultWidth:200,defaultHeight:108,minWidth:200,maxWidth:320,minHeight:48,maxHeight:150},Go.medium={defaultWidth:250,defaultHeight:116,minWidth:250,maxWidth:400,minHeight:56,maxHeight:150},Go.large={defaultWidth:350,defaultHeight:124,minWidth:350,maxWidth:500,minHeight:60,maxHeight:150},Go),ni="visible",ti="invisible",ri=mr({tag:"safepay-button",url:function(e){return xo.buttonUrls[e.props.env]},autoResize:{width:!0,height:!0},domain:xo.safepayDomainRegex,bridgeUrl:function(e){return xo.metaFrameUrls[e.props.env]},containerTemplate:function(e){var n=e.frame,t=e.context,r=e.prerenderFrame,o=e.container,i=e.props,a=e.event,u=e.uid,c=e.tag,s=e.doc;if(n&&r){if(o&&"button"===o.tagName.toLowerCase())throw new Error("Do not render the Safepay button into a button element");n.classList.add("component-frame"),r.classList.add("prerender-frame"),n.classList.add(ti),r.classList.add(ni),a.on(Wt,(function(){r.classList.remove(ni),r.classList.add(ti),n.classList.remove(ti),n.classList.add(ni),setTimeout((function(){return ho(r)}),1e3)}));var f=i.style.size,d=Wo("div",{id:u,class:c+" "+c+"-context-"+t+" "+c+"-label",onRender:function(e){a.on(Qt,(function(n){var t=n.width,r=n.height;"number"==typeof t&&(e.style.width=vo(t)),"number"==typeof r&&(e.style.height=vo(r))}))}},Wo("style",{nonce:i.nonce},"\n          #"+u+" {\n              position: relative;\n              display: inline-block;\n              width: 100%;\n              min-height: "+ei[f].minHeight+"px;\n              min-width: "+ei[f].minWidth+"px;\n              max-width: "+ei[f].maxWidth+"px;\n              font-size: 0;\n          }\n\n          #"+u+" > iframe {\n              position: absolute;\n              top: 0;\n              left: 0;\n              width: 100%;\n              height: 100%;\n          }\n\n          #"+u+" > iframe.component-frame {\n              z-index: 100;\n          }\n\n          #"+u+" > iframe.prerender-frame {\n              transition: opacity .2s linear;\n              z-index: 200;\n          }\n\n          #"+u+" > iframe.visible {\n              opacity: 1;\n          }\n\n          #"+u+" > iframe.invisible {\n              opacity: 0;\n              pointer-events: none;\n          }\n        "),Wo("node",{el:n}),Wo("node",{el:r})).render(Zo({doc:s}));return a.on(Wt,(function(){setTimeout((function(){d.style.transition="all 0.2s ease-in-out"}),1e3)})),d}},defaultContext:_t.IFRAME,props:{env:{type:"string",required:!0,queryParam:!0},style:{type:"object",required:!1,queryParam:!0,serialization:"dotify",validate:function(e){var n=e.value;if(n.mode&&-1===Vo.indexOf(n.mode))throw new Error("Invalid mode. Must be one of "+Vo.join(","));if(n.size&&-1===Ko.indexOf(n.size))throw new Error("Invalid size. Must be one of "+Ko.join(","));if(n.variant&&-1===Xo.indexOf(n.variant))throw new Error("Invalid variant. Must be one of "+Xo.join(","))}},onPayment:{type:"function",required:!0,default:function(){console.log("please implement this function")}},onPaymentSuccess:{type:"function",required:!0,default:function(){console.log("please implement this function")}},onSuccess:{type:"function",required:!1,default:function(){console.log("payment complete")},decorate:function(e){var n=e.value,t=void 0===n?no:n;return function(){t.apply(void 0,arguments)}}},onCancel:{type:"function",required:!1,default:function(){console.log("payment cancelled")}}}});function oi(e){return Wo("div",{class:"preloader spinner"},Wo("style",{nonce:e.nonce,innerHTML:"\n  body {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    position: fixed;\n    top: 0;\n    left: 0;\n    margin: 0;\n  }\n  .spinner {\n    height: 100%;\n    width: 100%;\n    position: absolute;\n    z-index: 10\n  }\n  .spinner .spinWrap {\n    width: 200px;\n    height: 100px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin-left: -100px;\n    margin-top: -50px\n  }\n  .spinner .loader,\n  .spinner .spinnerImage {\n    height: 100px;\n    width: 100px;\n    position: absolute;\n    top: 0;\n    left: 50%;\n    opacity: 1;\n    filter: alpha(opacity=100)\n  }\n  .spinner .spinnerImage {\n    margin: 28px 0 0 -25px;\n    background: url(https://www.paypalobjects.com/images/checkout/hermes/icon_ot_spin_lock_skinny.png) no-repeat\n  }\n  .spinner .loader {\n    margin: 0 0 0 -55px;\n    background-color: transparent;\n    animation: rotation .7s infinite linear;\n    border-left: 5px solid #cbcbca;\n    border-right: 5px solid #cbcbca;\n    border-bottom: 5px solid #cbcbca;\n    border-top: 5px solid #2380be;\n    border-radius: 100%\n  }\n  @keyframes rotation {\n    from {\n      transform: rotate(0deg)\n    }\n    to {\n      transform: rotate(359deg)\n    }\n  }\n"}),Wo("div",{class:"spinWrap"},Wo("p",{class:"spinnerImage"}),Wo("p",{class:"loader"})))}function ii(e){var n=e.nonce,t=e.children;return Wo("html",null,Wo("head",null,Wo("title",null,"Safepay"),Wo("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})),Wo("body",null,Wo(oi,{nonce:n}),t))}var ai="visible",ui="invisible";function ci(e){var n,t=e.context,r=e.close,o=e.focus,i=e.event,a=e.frame,u=e.prerenderFrame,c=e.content,s=void 0===c?{}:c,f=e.autoResize,d=e.hideCloseButton,l=e.fullScreen,h=void 0!==l&&l,p="safepay-overlay-"+Zr(),y=function(e){return function(n){i.on(Ut,(function(){return lo(n,"show-"+e,no)})),i.on(Yt,(function(){return lo(n,"hide-"+e,no)}))}};return a&&u&&(a.classList.add("component-frame"),u.classList.add("prerender-frame"),u.classList.add(ai),a.classList.add(ui),i.on(Wt,(function(){u.classList.remove(ai),u.classList.add(ui),a.classList.remove(ui),a.classList.add(ai),setTimeout((function(){ho(u)}),1)})),n=Wo("div",{class:"outlet",onRender:function(e){y("component")(e),f&&function(e){i.on(Qt,(function(n){var t=n.width,r=n.height;"number"==typeof t&&(e.style.width=t+"px"),"number"==typeof r&&(e.style.height=r+"px")}))}(e)}},Wo("node",{el:a}),Wo("node",{el:u}))),Wo("div",{id:p,onRender:y("container"),class:"safepay-checkout-sandbox"},Wo("style",null,function(e){var n=e.uid;return"\n      #"+n+".safepay-checkout-sandbox {\n          display: block;\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          width: 100vw;\n          height: 100vh;\n          max-width: 100%;\n          max-height: 100%;\n          min-width: 100%;\n          min-height: 100%;\n          z-index: 2147483647;\n          animation-duration: 0.3s;\n          animation-iteration-count: 1;\n          animation-fill-mode: forwards !important;\n          opacity: 0;\n      }\n      #"+n+".safepay-checkout-sandbox .safepay-checkout-sandbox-iframe {\n          display: block;\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n      }\n      @keyframes show-container {\n          from {\n              opacity: 0;\n          }\n          to {\n              opacity: 1;\n          }\n      }\n      @keyframes hide-container {\n          from {\n              opacity: 1;\n          }\n          50% {\n              opacity: 1;\n          }\n          to {\n              opacity: 0;\n          }\n      }\n  "}({uid:p})),Wo("iframe",{title:"Safepay Checkout Overlay",name:"__safepay_checkout_sandbox_"+p+"__",scrolling:"no",class:"safepay-checkout-sandbox-iframe"},Wo("html",null,Wo("body",null,Wo("div",{id:p,onClick:function(e){e.preventDefault(),e.stopPropagation(),Mr()&&o()},class:"safepay-overlay-context-"+t+" safepay-checkout-overlay"},!d&&Wo("a",{href:"#",class:"safepay-checkout-close",onClick:function(e){e.preventDefault(),e.stopPropagation(),r()},"aria-label":"close",role:"button"}),!h&&Wo("div",{class:"safepay-checkout-modal"},Wo("div",{class:"safepay-checkout-logo"},Wo("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyLjA1NiA1Ljc1NWMuMTktLjA1Ny4zNS0uMTExLjUxMy0uMTU1YTE3LjY2MSAxNy42NjEgMCAwIDEgMy43MDgtLjU5M2MuODczLS4wNDQgMS43MzgtLjAxOSAyLjU4Ny4xOTUuMzE1LjA4LjYzLjE4LjkyMy4zMi44MzMuMzk3IDEuMzA5IDEuMDg4IDEuNTQyIDEuOTZhNS44OSA1Ljg5IDAgMCAxIC4xODMgMS41Mzd2OS4zNjJsLTMuNjQ3LjAzMWEuNTEyLjUxMiAwIDAgMS0uNDM1LS4yMmMtLjE3Ni0uMjI4LS4zNjMtLjQ0Ny0uNTQ0LS42N2wtLjA4LS4wMjdjLS4wNDcuMDY2LS4wODUuMTQtLjE0LjItLjU2Ny42LTEuMjcuOTEyLTIuMDkzLjk1LS40OTguMDI0LS45OTQuMDA0LTEuNDgtLjEyMS0uOTg1LS4yNTQtMS42Ni0uODU0LTIuMDQ0LTEuNzg2YTQuOTA3IDQuOTA3IDAgMCAxLS4zMzgtMS4zOTdjLS4wNzEtLjcxNi0uMDc0LTEuNDMxLjA2NC0yLjE0NC4zLTEuNTQ2IDEuMjAzLTIuNTUxIDIuNzA3LTMuMDI2LjctLjIyIDEuNDItLjMwMiAyLjE1Mi0uMzA3LjI5LS4wMDIuNTggMCAuODctLjAwMS4wODcgMCAuMTc0LS4wMS4yOS0uMDE2LjAwNi0uMzIyLjA1LS42My0uMDQ2LS45M2EuNTY5LjU2OSAwIDAgMC0uNDcyLS4zOTUgMy42OTcgMy42OTcgMCAwIDAtLjc1LS4wNjZjLS45MTcuMDMzLTEuODEuMjI1LTIuNjk5LjQzNy0uMTguMDQzLS4zNi4wOS0uNTQuMTMzLS4wNTYuMDEzLS4xMTQuMDE1LS4xOTguMDI2bC0uMDMzLTMuMjk3Wm00Ljc1MSA2LjMzNGMtLjI1OC0uMDU1LS40ODMtLjAxNS0uNzA4LjAyLS40MS4wNjYtLjY2Ny4zLS43NzYuNjk3YTIuOTkzIDIuOTkzIDAgMCAwLS4wNTMuMjM4IDUuNTY1IDUuNTY1IDAgMCAwLS4wMzUgMS43NjVjLjAyMi4xNzQuMDcuMzUuMTQuNTEuMTUuMzQ2LjQ3Mi41MTkuODQ2LjQ4LjA4MS0uMDEuMTYyLS4wMjMuMjQxLS4wNDIuMzIyLS4wNzcuMzQ1LS4xMDUuMzQ1LS40MzN2LTMuMjM1Wk00OC40NTkgMTguNDE0djQuN2MtLjEwNy4wMTItLjE5My4wMy0uMjc4LjAzLTEuMzkuMDAyLTIuNzc4LjAwMi00LjE2OC4wMDEtLjA3MiAwLS4xNDUtLjAxLS4yMzItLjAxNy0uMDEyLS4wNjctLjAyNy0uMTIzLS4wMzItLjE4LS4wMDUtLjA1OS0uMDAyLS4xMTgtLjAwMi0uMTc3VjUuNjFjMC0uNDE2LjAwMi0uMzY5LjM4LS4zNyAxLjA0OC0uMDAyIDIuMDk1LjAwMiAzLjE0My0uMDA3LjIyMi0uMDAyLjM4LjA2Ny41MTMuMjQ1LjE0NS4xOTUuMzEyLjM3NC40ODMuNTc2LjA3Ni0uMDU0LjE0OS0uMS4yMTctLjE1My44My0uNjQ0IDEuNzc2LS45NCAyLjgyMi0uOTE0LjQzMS4wMS44NTguMDY5IDEuMjc2LjE4My42NzIuMTgzIDEuMTk4LjU3MSAxLjYgMS4xMzQuNDIuNTg4LjY2MyAxLjI1Mi44MjkgMS45NDguMjMxLjk3Ny4zMSAxLjk3LjMzNSAyLjk3LjAzIDEuMjAyLS4wMyAyLjM5Ni0uMjkzIDMuNTczLS4xNjQuNzM0LS40MTggMS40MzQtLjgzMyAyLjA2OC0uNjc4IDEuMDM2LTEuNjUzIDEuNTg2LTIuODcxIDEuNzMyLS45LjEwNy0xLjc5My4wODQtMi42NzMtLjE2LS4wNTctLjAxNS0uMTE3LS4wMTMtLjIxNi0uMDIyWm0tLjAwOC02LjM1OGguMDA0bC4wMDEgMi45NzNjMCAuMjI2LjAyMi4yNS4yNDIuMjkzLjE2LjAzLjMyMS4wNjMuNDg0LjA3Ni4zNTMuMDI5LjY2NC0uMDY5Ljg4Ni0uMzU4LjA4NS0uMTEuMTUxLS4yMzguMjA4LS4zNjUuMjE1LS40OTUuMzAyLTEuMDIuMzMtMS41NTQuMDUyLS45ODIuMDc3LTEuOTY1LjAwNy0yLjk0OGE2LjYxNCA2LjYxNCAwIDAgMC0uMTcyLTEuMTE1Yy0uMTM4LS41NjItLjM5NC0uNjI2LS44Ny0uNjFsLS4wNDQuMDA1Yy0uMjY2LjAxMS0uNS4xMjctLjc0LjIyNy0uMzA3LjEyOC0uMzM2LjE2Ni0uMzM2LjQ5MnYyLjg4NFpNNjguMTEgMjIuOTQ2di0zLjQyNWMuMTgzLjAzLjM0OC4wNi41MTQuMDg3LjYxNS4wOTUgMS4yMy4yMDcgMS44NDkuMjc4LjI4My4wMzIuNTc3LS4wMDUuODY0LS4wMzMuMjItLjAyMS4zOC0uMTYuNS0uMzM4LjIwOC0uMzAzLjI4LS42NS4zMTYtMS4wMDUuMDA3LS4wNy0uMDIzLS4xNDUtLjA0Ny0uMjE0LTEuMjQtMy40ODQtMi40ODItNi45NjctMy43MjMtMTAuNDVsLS44MjEtMi4zYy0uMDMtLjA4Mi0uMDUyLS4xNjYtLjA4Ni0uMjc3LjA4LS4wMS4xNDItLjAyNy4yMDQtLjAyN2g0LjcwM2MuMDU3IDAgLjExNi4wMTIuMTkzLjAybC4yOTMgMS43NzRjLjA5OC41OS4xOTIgMS4xODIuMjkgMS43NzMuMDk1LjU4My4xOTQgMS4xNjcuMjkgMS43NS4wOTcuNTkxLjE5MSAxLjE4My4yOSAxLjc3NC4wOTcuNTg1LjE4MyAxLjE3My4yOTggMS43NTVsLjA1OC0uMDAyYy4wMTYtLjA2LjA0LS4xMi4wNDgtLjE4MS4wOC0uNjg0LjE1Ni0xLjM2Ny4yMzMtMi4wNWwuMjUtMi4yNzEuMjQtMi4xNjFjLjA3NC0uNjY5LjE0OC0xLjMzOC4yMjQtMi4wMDYuMDE4LS4xNTYuMDQtLjE3NC4yMjEtLjE3NS42MDItLjAwMyAxLjIwMy0uMDAzIDEuODA1LS4wMDRoMi44ODNjLS4wMy4xNjYtLjA0Ny4zMDQtLjA4Mi40MzYtLjQ1NSAxLjcxNS0uOTEyIDMuNDMtMS4zNjkgNS4xNDQtLjc1NyAyLjg0NC0xLjUxMyA1LjY4OC0yLjI3MiA4LjUzMS0uMTgzLjY4OC0uNDIgMS4zNTYtLjc2NyAxLjk4Mi0uNDMuNzczLTEuMDExIDEuMzg1LTEuODQzIDEuNzMzYTQuNTQ1IDQuNTQ1IDAgMCAxLTEuNTM5LjMyNWMtLjkzOS4wNDctMS44Ny0uMDUyLTIuNzk0LS4xOTgtLjMzNy0uMDUzLS42NzEtLjEyMS0xLjAwNy0uMTg1LS4wNzEtLjAxNC0uMTQtLjAzOS0uMjE1LS4wNlpNOS4yNzEgNC43NzVjLS4xMTktLjAyNC0uMjEzLS4wMzktLjMwNS0uMDYzLS44NDMtLjIxNC0xLjY5MS0uMzkzLTIuNTY1LS40MThhNC4wNzYgNC4wNzYgMCAwIDAtLjYyMi4wMzRjLS44MDguMTAzLTEuMTcuNzA5LTEuMTMzIDEuNDY0LjAyMi40NTkuMjA0Ljg1LjU2MyAxLjE0LjU0Ny40NDQgMS4xMDIuODc4IDEuNjYgMS4zMDcuNDY2LjM1Ni45NDYuNjkzIDEuMzU1IDEuMTE3Ljc5NC44MjMgMS4yNDQgMS44MSAxLjQwMyAyLjkzM2E3Ljg0MSA3Ljg0MSAwIDAgMS0uMTA1IDIuODg5Yy0uMzkzIDEuNy0xLjQ2MyAyLjc0NS0zLjE0IDMuMTk0LS44NTMuMjI4LTEuNzI1LjI5Mi0yLjYwNC4yODctMS4wODEtLjAwNy0yLjE0OS0uMTI0LTMuMTkyLS40MTgtLjE1NS0uMDQ0LS4zMDMtLjEwOS0uNDU1LS4xNjQtLjAwNy0uMTU1LS4wMi0uMzA5LS4wMi0uNDYzLS4wMDItLjk0LS4wMDEtMS44OC0uMDAxLTIuODE5di0uMjY5bC42MTMuMTFjLjcyMi4xMzEgMS40NDQuMjY3IDIuMTY3LjM5NC4zNjQuMDYzLjcyOC4wMjkgMS4wODMtLjA1OC44NzItLjIxNCAxLjI4OS0xLjA3NS45Mi0xLjg5MS0uMTU4LS4zNTEtLjQwOC0uNjM3LS42OTctLjg4NC0uNDExLS4zNTEtLjgzNy0uNjg2LTEuMjUxLTEuMDM0LS40NDgtLjM3Ny0uOTExLS43NC0xLjMzLTEuMTQ3Qy41NTcgOC45OS4wNDIgNy43MjMuMDA0IDYuMjU5Yy0uMDE5LS42NzUuMDE4LTEuMzQ2LjItMi4wMDEuNDE3LTEuNDkgMS4zNjctMi40OTUgMi44MDYtMy4wNTJBNi44NDUgNi44NDUgMCAwIDEgNS4yNDkuNzU5YzEuMjU1LS4wNDYgMi40OS4wODUgMy42OTguNDQzbC4yMTIuMDY2Yy4wOC4wMjUuMTIzLjA3OC4xMjQuMTY0bC4wMDIuMTU1djIuOTNjMCAuMDgtLjAwOC4xNTgtLjAxNC4yNThaTTU3LjY4MSA1Ljc1NWMuMTg5LS4wNTcuMzUtLjExMS41MTMtLjE1NWExNy42NjQgMTcuNjY0IDAgMCAxIDMuNzA3LS41OTNjLjg3NC0uMDQ0IDEuNzM4LS4wMTkgMi41ODguMTk1LjMxNS4wOC42My4xOC45MjMuMzIuODMyLjM5NyAxLjMwOCAxLjA4OCAxLjU0MSAxLjk2YTUuODggNS44OCAwIDAgMSAuMTgzIDEuNTM3djkuMzYybC0zLjY0Ni4wMzFhLjUxMi41MTIgMCAwIDEtLjQzNi0uMjJjLS4xNzUtLjIyOC0uMzYxLS40NDctLjU0My0uNjdsLS4wOC0uMDI3Yy0uMDQ2LjA2Ni0uMDg1LjE0LS4xNC4yLS41NjcuNi0xLjI3LjkxMi0yLjA5My45NS0uNDk4LjAyNC0uOTk0LjAwNC0xLjQ4MS0uMTIxLS45ODQtLjI1NC0xLjY1OS0uODU0LTIuMDQzLTEuNzg2YTQuOTA3IDQuOTA3IDAgMCAxLS4zMzgtMS4zOTdjLS4wNzEtLjcxNi0uMDc0LTEuNDMxLjA2NC0yLjE0NC4zLTEuNTQ2IDEuMjAzLTIuNTUxIDIuNzA3LTMuMDI2LjctLjIyIDEuNDItLjMwMiAyLjE1Mi0uMzA3LjI5LS4wMDIuNTggMCAuODctLjAwMS4wODcgMCAuMTc0LS4wMS4yOS0uMDE2LjAwNy0uMzIyLjA1LS42My0uMDQ2LS45M2EuNTY4LjU2OCAwIDAgMC0uNDcyLS4zOTUgMy42OTIgMy42OTIgMCAwIDAtLjc1LS4wNjZjLS45MTcuMDMzLTEuODEuMjI1LTIuNjk5LjQzNy0uMTguMDQzLS4zNi4wOS0uNTQuMTMzLS4wNTYuMDEzLS4xMTQuMDE1LS4xOTcuMDI2bC0uMDM0LTMuMjk3Wm00Ljc1MSA2LjMzNGMtLjI1OC0uMDU1LS40ODMtLjAxNS0uNzA4LjAyLS40MS4wNjYtLjY2Ny4zLS43NzYuNjk3YTIuOTUgMi45NSAwIDAgMC0uMDUzLjIzOCA1LjU2MiA1LjU2MiAwIDAgMC0uMDM1IDEuNzY1Yy4wMjIuMTc0LjA3LjM1LjE0LjUxLjE1LjM0Ni40NzIuNTE5Ljg0Ni40OC4wODEtLjAxLjE2Mi0uMDIzLjI0MS0uMDQyLjMyMi0uMDc3LjM0NS0uMTA1LjM0NS0uNDMzdi0zLjIzNVpNNDIuMzEgMTMuMzYxaC02LjM1Yy0uMTA1LjIyOS0uMDc1LjQ0My0uMDI4LjY1MS4xMTcuNTI1LjQwMy44ODkuOTYyIDEuMDExLjU5OC4xMzEgMS4xOTguMTM0IDEuNzk1LjA1NS44NzUtLjExNyAxLjc0NS0uMjcgMi42MTctLjQwOC4wOTUtLjAxNS4xOS0uMDI0LjI4MS0uMDM2LjA1NC4xNy4wNzUgMi43OTQuMDMgMy4zNDktLjA2Ni4wMjYtLjEzOC4wNjItLjIxNC4wODZhMTIuNjggMTIuNjggMCAwIDEtNC43NS41NmMtLjY1My0uMDQ0LTEuMjk5LS4xMzQtMS45MjYtLjMzMi0xLjM3NC0uNDMzLTIuMzM0LTEuMzE0LTIuODkzLTIuNjM0LS4yNzYtLjY1My0uNDMyLTEuMzM1LS41MjctMi4wMzQtLjEyLS44ODQtLjEyNC0xLjc3Mi0uMDgtMi42Ni4wNDYtLjkyLjE5Ni0xLjgyMi41MjEtMi42OS42NTktMS43NTggMS45MS0yLjgxMyAzLjc2Mi0zLjE1NiAxLjA3Mi0uMTk4IDIuMTQyLS4yIDMuMjA1LjA2MyAxLjI1LjMwOCAyLjE2MSAxLjA0MyAyLjc1IDIuMTc5LjM4LjczMS41OCAxLjUxNy43MDYgMi4zMjUuMTEzLjczNC4xNDUgMS40NzIuMTQgMi4yMTMtLjAwNS40NzMtLjAwMi45NDYtLjAwMiAxLjQ1OFptLTQuNDAyLTIuNTNjLjAxNC0uMDQ0LjAyNi0uMDY1LjAyNi0uMDg2LS4wMTItLjU4NC0uMDE0LTEuMTY4LS4wNDItMS43NTJhMi4yMTQgMi4yMTQgMCAwIDAtLjIxNy0uODMzYy0uMDktLjE5MS0uMjI4LS4zMzQtLjQzNy0uMzgxLS4zMzUtLjA3Ni0uODEzLS4wMTgtMS4wNDIuNDQzYTIuMjI1IDIuMjI1IDAgMCAwLS4xOC40OTljLS4xNDIuNjI1LS4xMzUgMS4yNjMtLjEzIDEuOS4wMDIuMjExLjAxNC4yMjIuMjMyLjIyMy41NDMuMDAyIDEuMDg1IDAgMS42MjggMCAuMDUgMCAuMTAyLS4wMDguMTYyLS4wMTNaTTMyLjI0NiAzLjUzN2MtLjI1Mi0uMDM4LS40NjktLjA4LS42ODktLjEwNC0uNTM4LS4wNjEtMS4wNzYtLjEyNS0xLjYxNi0uMTY4LS43ODItLjA2Mi0xLjAzNy40My0xLjA1Mi45OTItLjAxLjMxLS4wMDIuNjItLjAwMi45NTIuMTE4LjAxLjIxOS4wMjYuMzIuMDI3LjYyNC4wMDMgMS4yNDguMDAzIDEuODczLjAwNGguMzAxbC0uNjE1IDIuOTY3aC0xLjg2MmMtLjAwNi4xNDMtLjAxNy4yNjYtLjAxNy4zODl2OS43MTljLS4wMy4wMzMtLjAzMy4wNC0uMDM5LjA0NC0uMDA1LjAwNC0uMDExLjAxLS4wMTguMDEtLjAzNy4wMDctLjA3My4wMTUtLjExLjAxNWgtNC40MTRjLS4wMjkgMC0uMDU4LS4wMS0uMTEzLS4wMi0uMDA2LS4xMjktLjAxNS0uMjYtLjAxNS0uMzlWOC4yMzRjLS41NzctLjA2OC0xLjEzNC4wMDEtMS42ODEtLjA0LS4wODItLjIxNy0uMTE1LTIuMzM3LS4wNDYtMi45MzYuMDcyLS4wMDYuMTUtLjAxNi4yMjktLjAxNy40MDgtLjAwMy44MTctLjAwMiAxLjIyNS0uMDA1LjA4IDAgLjE1OS0uMDEyLjI1My0uMDIuMDA3LS4xMi4wMTYtLjIyMi4wMTgtLjMyMy4wMTMtLjQ5NS4wMTItLjk5Mi4wNC0xLjQ4NmEzLjg0IDMuODQgMCAwIDEgLjM0Mi0xLjM0OGMuNDE1LS45MjggMS4xNDgtMS40ODYgMi4xLTEuNzg4LjY3Mi0uMjE0IDEuMzY2LS4yNjYgMi4wNjctLjI3IDEuMTA2LS4wMDkgMi4xOS4xNDggMy4yNi40MTMuMDg2LjAyMi4xNjkuMDU1LjI2LjA4NC4wMDIgMS4wMDguMDAyIDIuMDA0LjAwMiAzLjA0WiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg=="})),s.windowMessage&&Wo("div",{class:"safepay-checkout-message"},s.windowMessage),s.continueMessage&&Wo("div",{class:"safepay-checkout-continue"},Wo("a",{onClick:o,href:"#"},s.continueMessage)),Wo("div",{class:"safepay-checkout-loader"},Wo("div",{class:"safepay-spinner"}))),Wo("div",{class:h?"safepay-checkout-iframe-container-full":"safepay-checkout-iframe-container"},n),Wo("style",null,function(e){var n=e.uid;return"\n  #"+n+" {\n    position: absolute;\n    z-index: 2147483647;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    transform: translate3d(0, 0, 0);\n    background-color: black;\n    background-color: rgba(0, 0, 0, 0.8);\n    background: radial-gradient(50% 50%, ellipse closest-corner, rgba(0,0,0,0.6) 1%, rgba(0,0,0,0.8) 100%);\n    color: #fff;\n  }\n  #"+n+" a {\n    color: #fff;\n  }\n  #"+n+" .safepay-checkout-close:before,\n  #"+n+" .safepay-checkout-close:after {\n    background-color: #fff;\n  }\n  #"+n+".safepay-overlay-context-"+_t.POPUP+" {\n    cursor: pointer;\n  }\n  #"+n+" a {\n    text-decoration: none;\n  }\n  #"+n+' .safepay-checkout-modal {\n    font-family: "HelveticaNeue", "HelveticaNeue-Light", "Helvetica Neue Light", helvetica, arial, sans-serif;\n    font-size: 14px;\n    text-align: center;\n    box-sizing: border-box;\n    max-width: 350px;\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translateX(-50%) translateY(-50%);\n    cursor: pointer;\n    text-align: center;\n  }\n  #'+n+".safepay-overlay-loading .safepay-checkout-message, #"+n+".safepay-overlay-loading .safepay-checkout-continue {\n    display: none;\n  }\n  .safepay-checkout-loader {\n    display: none;\n  }\n  #"+n+".safepay-overlay-loading .safepay-checkout-loader {\n    display: block;\n  }\n  #"+n+" .safepay-checkout-modal .safepay-checkout-logo {\n    cursor: pointer;\n    margin-bottom: 30px;\n    display: inline-block;\n  }\n  #"+n+" .safepay-checkout-modal .safepay-checkout-logo img {\n    height: 36px;\n  }\n  #"+n+" .safepay-checkout-modal .safepay-checkout-logo img.safepay-checkout-logo-pp {\n    margin-right: 10px;\n  }\n  #"+n+" .safepay-checkout-modal .safepay-checkout-message {\n    font-size: 15px;\n    line-height: 1.5;\n    padding: 10px 0;\n  }\n  #"+n+".safepay-overlay-context-"+_t.IFRAME+" .safepay-checkout-message, #"+n+".safepay-overlay-context-"+_t.IFRAME+" .safepay-checkout-continue {\n    display: none;\n  }\n  #"+n+" .safepay-checkout-modal .safepay-checkout-continue {\n    font-size: 15px;\n    line-height: 1.35;\n    padding: 10px 0;\n    font-weight: bold;\n  }\n  #"+n+" .safepay-checkout-modal .safepay-checkout-continue a {\n    border-bottom: 1px solid white;\n  }\n  #"+n+" .safepay-checkout-close {\n    position: absolute;\n    right: 16px;\n    top: 16px;\n    width: 16px;\n    height: 16px;\n    opacity: 0.6;\n  }\n  #"+n+".safepay-overlay-loading .safepay-checkout-close {\n    display: none;\n  }\n  #"+n+" .safepay-checkout-close:hover {\n    opacity: 1;\n  }\n  #"+n+" .safepay-checkout-close:before, .safepay-checkout-close:after {\n    position: absolute;\n    left: 8px;\n    content: ' ';\n    height: 16px;\n    width: 2px;\n  }\n  #"+n+" .safepay-checkout-close:before {\n    transform: rotate(45deg);\n  }\n  #"+n+" .safepay-checkout-close:after {\n    transform: rotate(-45deg);\n  }\n  #"+n+" .safepay-checkout-iframe-container {\n    display: none;\n  }\n  #"+n+".safepay-overlay-context-"+_t.IFRAME+" .safepay-checkout-iframe-container,\n  #"+n+".safepay-overlay-context-"+_t.IFRAME+" .safepay-checkout-iframe-container > .outlet,\n  #"+n+".safepay-overlay-context-"+_t.IFRAME+" .safepay-checkout-iframe-container > .outlet > iframe {\n    max-height: 95vh;\n    max-width: 95vw;\n  }\n  #"+n+".safepay-overlay-context-"+_t.IFRAME+" .safepay-checkout-iframe-container-full,\n  #"+n+".safepay-overlay-context-"+_t.IFRAME+" .safepay-checkout-iframe-container-full > .outlet,\n  #"+n+".safepay-overlay-context-"+_t.IFRAME+" .safepay-checkout-iframe-container-full > .outlet > iframe {\n    height: 100vh;\n    max-width: 100vw;\n    width: 100vw;\n  }\n  @media screen and (max-width: 470px) {\n    #"+n+".safepay-overlay-context-"+_t.IFRAME+" .safepay-checkout-iframe-container,\n    #"+n+".safepay-overlay-context-"+_t.IFRAME+" .safepay-checkout-iframe-container > .outlet,\n    #"+n+".safepay-overlay-context-"+_t.IFRAME+" .safepay-checkout-iframe-container > .outlet > iframe {\n      max-height: 85vh;\n    }\n    #"+n+".safepay-overlay-context-"+_t.IFRAME+" .safepay-checkout-iframe-container-full,\n    #"+n+".safepay-overlay-context-"+_t.IFRAME+" .safepay-checkout-iframe-container-full > .outlet,\n    #"+n+".safepay-overlay-context-"+_t.IFRAME+" .safepay-checkout-iframe-container-full > .outlet > iframe {\n      height: 100vh;\n    }\n  }\n  #"+n+".safepay-overlay-context-"+_t.IFRAME+" .safepay-checkout-iframe-container {\n    display: block;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    min-width: 450px;\n    transform: translate(-50%, -50%);\n    transform: translate3d(-50%, -50%, 0);\n    border-radius: 10px;\n    overflow: hidden;\n  }\n  #"+n+".safepay-overlay-context-"+_t.IFRAME+" .outlet {\n    position: relative;\n    transition: all 0.3s ease;\n    animation-duration: 0.3s;\n    animation-fill-mode: forwards !important;\n    min-width: 450px;\n    max-width: 450px;\n    width: 450px;\n    height: 535px;\n    background-color: white;\n    overflow: auto;\n    opacity: 0;\n    transform: scale3d(.3, .3, .3);\n    -webkit-overflow-scrolling: touch;\n  }\n  #"+n+".safepay-overlay-context-"+_t.IFRAME+" .outlet > iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    transition: opacity .4s ease-in-out;\n  }\n  #"+n+".safepay-overlay-context-"+_t.IFRAME+" .outlet > iframe.component-frame {\n    z-index: 100;\n  }\n  #"+n+".safepay-overlay-context-"+_t.IFRAME+" .outlet > iframe.prerender-frame {\n    z-index: 200;\n  }\n  #"+n+".safepay-overlay-context-"+_t.IFRAME+" .outlet > iframe.visible {\n    opacity: 1;\n    z-index: 200;\n  }\n  #"+n+".safepay-overlay-context-"+_t.IFRAME+" .outlet > iframe.invisible {\n    opacity: 0;\n    z-index: 100;\n  }\n  @media screen and (max-width: 470px) {\n    #"+n+".safepay-overlay-context-"+_t.IFRAME+" .safepay-checkout-iframe-container,\n    #"+n+".safepay-overlay-context-"+_t.IFRAME+" .outlet {\n      min-width: 100%;\n      min-width: calc(100% - 20px);\n      max-width: 100%;\n      max-width: calc(100% - 20px);\n    }\n  }\n  #"+n+".safepay-overlay-context-"+_t.IFRAME+" .outlet iframe {\n    width: 1px;\n    min-width: 100%;\n    height: 100%;\n  }\n  @keyframes show-component {\n    from {\n      opacity: 0;\n      transform: scale3d(.3, .3, .3);\n    }\n    to {\n      opacity: 1;\n      transform: scale3d(1, 1, 1);\n    }\n  }\n  @keyframes hide-component {\n    from {\n      opacity: 1;\n      transform: scale3d(1, 1, 1);\n    }\n    to {\n      opacity: 0;\n      transform: scale3d(.3, .3, .3);\n    }\n  }\n  .safepay-spinner {\n    height: 30px;\n    width: 30px;\n    display: inline-block;\n    box-sizing: content-box;\n    opacity: 1;\n    filter: alpha(opacity=100);\n    animation: rotation .7s infinite linear;\n    border-left: 8px solid rgba(0, 0, 0, .2);\n    border-right: 8px solid rgba(0, 0, 0, .2);\n    border-bottom: 8px solid rgba(0, 0, 0, .2);\n    border-top: 8px solid #fff;\n    border-radius: 100%\n  }\n  @keyframes rotation {\n    from {\n      transform: rotate(0deg)\n    }\n    to {\n      transform: rotate(359deg)\n    }\n  }"}({uid:p})))))))}var si=mr({tag:"safepay-checkout",url:function(e){return xo.checkoutUrls[e.props.env]},defaultContext:_t.POPUP,domain:xo.safepayDomainRegex,dimensions:function(e){var n,t=e.props;return"object"==typeof t.dimensions?{width:t.dimensions.width+"px",height:t.dimensions.height+"px"}:(void 0===n&&(n=vr()),n.match(/Android|webOS|iPhone|iPad|iPod|bada|Symbian|Palm|CriOS|BlackBerry|IEMobile|WindowsMobile|Opera Mini/i)?{width:"100%",height:"820px"}:{width:"745px",height:"820px"})},prerenderTemplate:function(e){var n=e.doc;return Wo(ii,{nonce:e.props.nonce}).render(Zo({doc:n}))},containerTemplate:function(e){var n=e.doc;return Wo(ci,{context:e.context,close:e.close,focus:e.focus,event:e.event,frame:e.frame,prerenderFrame:e.prerenderFrame,content:{windowMessage:"Don't see the secure Safepay browser? We'll help you re-launch the window to complete your purchase",continueMessage:"Click to Continue"},nonce:e.props.nonce}).render(Zo({doc:n}))},props:{tracker:{required:!0,queryParam:!0,type:"string"},tbt:{required:!0,queryParam:!0,type:"string"},env:{required:!0,queryParam:"environment",type:"string"},xcomponent:{type:"string",queryParam:!0,value:function(){return"1"}},onSuccess:{type:"function",required:!0,default:function(){console.log("payment complete")},decorate:function(e){var n=e.close,t=e.value,r=void 0===t?no:t;return function(){r.apply(void 0,arguments),n()}}},onCancel:{type:"function",required:!1,default:function(){console.log("payment cancelled")},decorate:function(e){var n=e.close,t=e.value,r=void 0===t?no:t;return function(){r.apply(void 0,arguments),n()}}}}});return n})()));
//# sourceMappingURL=sfpy-checkout.js.map